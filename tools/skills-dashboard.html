<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Design Skills Dashboard | Newport Pembury &amp; Co</title>
<meta name="description" content="Interactive reference for the web design skill system â€” browse triggers, checklists, key rules, and deployment workflow across 9 skill files totalling 3,800 lines.">
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@600;700&family=DM+Sans:wght@400;500;700&family=DM+Mono:wght@400;500&display=swap" rel="stylesheet">
<style>
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

:root {
  --p-charcoal: #1B2838; --p-gold: #C5A55A; --p-gold-light: #D4C085;
  --p-dark: #0F1923; --p-slate: #6B7B8D; --p-ivory: #F5F0E8;
  --p-cream: #FAF8F4; --p-white: #FFFFFF; --p-success: #28A745;
  --p-error: #DC3545; --p-warning: #FFC107; --p-info: #17A2B8;
  --font-display: 'Cormorant Garamond', Georgia, serif;
  --font-body: 'DM Sans', -apple-system, sans-serif;
  --font-mono: 'DM Mono', 'SF Mono', monospace;
  --radius-sm: 4px; --radius-md: 8px; --radius-lg: 12px;
  --shadow-sm: 0 1px 3px rgba(0,0,0,0.06); --shadow-md: 0 4px 12px rgba(0,0,0,0.08);
  --shadow-lg: 0 10px 30px rgba(0,0,0,0.1); --ease: cubic-bezier(0.4,0,0.2,1);
  --theme-bg: var(--p-cream); --theme-bg-alt: var(--p-ivory); --theme-surface: var(--p-white);
  --theme-text: var(--p-charcoal); --theme-text-secondary: var(--p-slate);
  --theme-border: rgba(27,40,56,0.08); --theme-sidebar-bg: var(--p-dark);
  --theme-sidebar-text: rgba(255,255,255,0.7); --theme-sidebar-border: rgba(255,255,255,0.06);
}
[data-theme="dark"] {
  --theme-bg: #0D1520; --theme-bg-alt: var(--p-dark); --theme-surface: #152030;
  --theme-text: var(--p-ivory); --theme-text-secondary: #A0AEBB;
  --theme-border: rgba(255,255,255,0.08); --theme-sidebar-bg: #080E16;
  --theme-sidebar-text: rgba(255,255,255,0.6); --theme-sidebar-border: rgba(255,255,255,0.04);
}

html { scroll-behavior: smooth; }
body { font-family: var(--font-body); color: var(--theme-text); background: var(--theme-bg); line-height: 1.6; -webkit-font-smoothing: antialiased; transition: background 0.3s, color 0.3s; }

.page-wrapper { display: grid; grid-template-columns: 280px 1fr; min-height: 100vh; }

/* Sidebar */
.sidebar { position: sticky; top: 0; height: 100vh; overflow-y: auto; background: var(--theme-sidebar-bg); color: var(--theme-sidebar-text); border-right: 1px solid var(--theme-sidebar-border); scrollbar-width: thin; scrollbar-color: rgba(255,255,255,0.15) transparent; }
.sidebar::-webkit-scrollbar { width: 4px; }
.sidebar::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.15); border-radius: 2px; }
.sidebar-header { padding: 24px 20px 16px; border-bottom: 1px solid var(--theme-sidebar-border); }
.sidebar-header h1 { font-family: var(--font-display); font-size: 18px; font-weight: 700; color: var(--p-white); letter-spacing: -0.02em; margin-bottom: 2px; }
.sidebar-header .subtitle { font-size: 11px; text-transform: uppercase; letter-spacing: 0.1em; color: var(--p-gold); font-weight: 500; }
.sidebar-nav { padding: 12px 0; }
.sidebar-nav .nav-group { margin-bottom: 4px; }
.sidebar-nav .nav-group-title { display: block; padding: 8px 20px 4px; font-size: 10px; text-transform: uppercase; letter-spacing: 0.12em; color: rgba(255,255,255,0.35); font-weight: 700; }
.sidebar-nav a { display: flex; align-items: center; gap: 8px; padding: 7px 20px 7px 28px; color: rgba(255,255,255,0.6); text-decoration: none; font-size: 13px; transition: all 0.15s var(--ease); border-left: 2px solid transparent; }
.sidebar-nav a:hover { color: var(--p-white); background: rgba(255,255,255,0.04); }
.sidebar-nav a.active { color: var(--p-gold); border-left-color: var(--p-gold); background: rgba(197,165,90,0.06); font-weight: 500; }
.sidebar-nav .line-count { font-size: 10px; font-family: var(--font-mono); color: rgba(255,255,255,0.3); margin-left: auto; }

.theme-toggle { display: flex; gap: 4px; background: rgba(255,255,255,0.06); border-radius: 6px; padding: 3px; margin: 12px 20px; }
.theme-toggle button { flex: 1; padding: 6px 0; border: none; border-radius: 4px; background: transparent; color: rgba(255,255,255,0.5); font-family: var(--font-body); font-size: 11px; font-weight: 600; cursor: pointer; transition: all 0.15s; }
.theme-toggle button.active { background: var(--p-gold); color: var(--p-dark); }

/* Stats bar */
.stats-bar { display: flex; gap: 2px; margin: 16px 20px 8px; }
.stats-bar .stat { flex: 1; text-align: center; padding: 8px 4px; background: rgba(255,255,255,0.03); border-radius: var(--radius-sm); }
.stats-bar .stat:first-child { border-radius: var(--radius-sm) 0 0 var(--radius-sm); }
.stats-bar .stat:last-child { border-radius: 0 var(--radius-sm) var(--radius-sm) 0; }
.stats-bar .stat-value { font-size: 16px; font-weight: 700; color: var(--p-gold); font-family: var(--font-display); }
.stats-bar .stat-label { font-size: 9px; text-transform: uppercase; letter-spacing: 0.1em; color: rgba(255,255,255,0.35); margin-top: 2px; }

/* Main */
.main { padding: 32px 48px 80px; max-width: 1100px; }

.page-header { margin-bottom: 32px; padding-bottom: 24px; border-bottom: 1px solid var(--theme-border); }
.page-header h1 { font-family: var(--font-display); font-size: clamp(32px,4vw,44px); font-weight: 700; letter-spacing: -0.02em; line-height: 1.15; margin-bottom: 8px; }
.page-header p { font-size: 16px; color: var(--theme-text-secondary); max-width: 640px; line-height: 1.65; }

/* Search */
.toolbar { display: flex; gap: 10px; margin-bottom: 24px; align-items: center; }
.search-box { flex: 1; min-width: 220px; position: relative; }
.search-box input { width: 100%; padding: 10px 16px 10px 40px; border: 1px solid var(--theme-border); border-radius: var(--radius-md); font-family: var(--font-body); font-size: 14px; background: var(--theme-surface); color: var(--theme-text); transition: border-color 0.2s, box-shadow 0.2s; }
.search-box input:focus { outline: none; border-color: var(--p-gold); box-shadow: 0 0 0 3px rgba(197,165,90,0.12); }
.search-box::before { content: '\2315'; position: absolute; left: 14px; top: 50%; transform: translateY(-50%); font-size: 18px; color: var(--theme-text-secondary); pointer-events: none; }
.search-count { font-size: 12px; color: var(--theme-text-secondary); font-family: var(--font-mono); white-space: nowrap; }

/* Section */
.section { margin-bottom: 48px; scroll-margin-top: 24px; }
.section-header { display: flex; align-items: center; gap: 12px; margin-bottom: 16px; }
.section-header h2 { font-family: var(--font-display); font-size: 28px; font-weight: 700; letter-spacing: -0.015em; }
.section-header .badge { font-size: 10px; font-family: var(--font-mono); padding: 3px 8px; border-radius: 4px; font-weight: 600; letter-spacing: 0.04em; }
.badge-core { background: rgba(197,165,90,0.12); color: var(--p-gold); }
.badge-ref { background: rgba(23,162,184,0.12); color: var(--p-info); }
.badge-lines { background: rgba(107,123,141,0.12); color: var(--theme-text-secondary); }
.section-desc { font-size: 15px; color: var(--theme-text-secondary); margin-bottom: 20px; max-width: 720px; line-height: 1.65; }

/* Cards */
.card-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); gap: 16px; margin-bottom: 20px; }
.card { background: var(--theme-surface); border: 1px solid var(--theme-border); border-radius: var(--radius-lg); padding: 20px; transition: box-shadow 0.2s var(--ease), transform 0.2s var(--ease); }
.card:hover { box-shadow: var(--shadow-md); transform: translateY(-2px); }
.card h3 { font-family: var(--font-body); font-size: 14px; font-weight: 700; margin-bottom: 8px; display: flex; align-items: center; gap: 8px; }
.card h3 .icon { width: 20px; height: 20px; display: flex; align-items: center; justify-content: center; border-radius: 4px; font-size: 11px; flex-shrink: 0; }
.card p { font-size: 13px; color: var(--theme-text-secondary); line-height: 1.55; }
.card ul { list-style: none; padding: 0; margin: 8px 0 0; }
.card ul li { font-size: 13px; color: var(--theme-text-secondary); padding: 4px 0; padding-left: 16px; position: relative; line-height: 1.5; }
.card ul li::before { content: ''; position: absolute; left: 0; top: 11px; width: 6px; height: 6px; border-radius: 50%; background: var(--p-gold); opacity: 0.5; }

/* Trigger pills */
.triggers { display: flex; flex-wrap: wrap; gap: 6px; margin-top: 12px; }
.trigger { font-size: 11px; font-family: var(--font-mono); padding: 3px 8px; border-radius: 4px; background: rgba(197,165,90,0.08); color: var(--p-gold); border: 1px solid rgba(197,165,90,0.15); }

/* Checklist */
.checklist { background: var(--theme-surface); border: 1px solid var(--theme-border); border-radius: var(--radius-lg); padding: 24px; margin-bottom: 20px; }
.checklist h3 { font-family: var(--font-body); font-size: 15px; font-weight: 700; margin-bottom: 12px; }
.checklist-item { display: flex; align-items: flex-start; gap: 10px; padding: 8px 0; border-bottom: 1px solid var(--theme-border); font-size: 13px; line-height: 1.55; }
.checklist-item:last-child { border-bottom: none; }
.checklist-item .check { width: 18px; height: 18px; border: 2px solid var(--theme-border); border-radius: 4px; flex-shrink: 0; margin-top: 1px; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: all 0.15s; }
.checklist-item .check.checked { background: var(--p-gold); border-color: var(--p-gold); }
.checklist-item .check.checked::after { content: '\2713'; color: var(--p-dark); font-size: 12px; font-weight: 700; }
.checklist-item.done { opacity: 0.5; }
.checklist-item.done span { text-decoration: line-through; }

/* Workflow */
.workflow { display: flex; gap: 0; margin: 24px 0; position: relative; }
.workflow::before { content: ''; position: absolute; top: 32px; left: 40px; right: 40px; height: 2px; background: var(--theme-border); z-index: 0; }
.workflow-step { flex: 1; text-align: center; position: relative; z-index: 1; }
.workflow-step .step-num { width: 40px; height: 40px; border-radius: 50%; background: var(--theme-surface); border: 2px solid var(--p-gold); display: flex; align-items: center; justify-content: center; margin: 0 auto 10px; font-family: var(--font-display); font-size: 18px; font-weight: 700; color: var(--p-gold); }
.workflow-step .step-title { font-size: 12px; font-weight: 700; text-transform: uppercase; letter-spacing: 0.06em; margin-bottom: 4px; }
.workflow-step .step-desc { font-size: 11px; color: var(--theme-text-secondary); line-height: 1.45; max-width: 140px; margin: 0 auto; }

/* Key rules table */
.rules-table { width: 100%; border-collapse: collapse; background: var(--theme-surface); border: 1px solid var(--theme-border); border-radius: var(--radius-lg); overflow: hidden; margin-bottom: 20px; }
.rules-table th { text-align: left; padding: 10px 16px; font-size: 11px; text-transform: uppercase; letter-spacing: 0.08em; color: var(--theme-text-secondary); background: var(--theme-bg-alt); font-weight: 700; border-bottom: 1px solid var(--theme-border); }
.rules-table td { padding: 10px 16px; font-size: 13px; border-bottom: 1px solid var(--theme-border); vertical-align: top; line-height: 1.5; }
.rules-table tr:last-child td { border-bottom: none; }
.rules-table .metric { font-family: var(--font-mono); font-size: 12px; color: var(--p-gold); font-weight: 500; white-space: nowrap; }

/* Expand/Collapse */
.expandable { cursor: pointer; user-select: none; }
.expandable::after { content: ' +'; font-size: 14px; color: var(--p-gold); font-weight: 700; }
.expandable.open::after { content: ' \2212'; }
.expand-content { display: none; }
.expand-content.visible { display: block; }

/* Responsive */
@media (max-width: 900px) {
  .page-wrapper { grid-template-columns: 1fr; }
  .sidebar { position: fixed; left: -300px; z-index: 100; width: 280px; transition: left 0.3s var(--ease); }
  .sidebar.open { left: 0; }
  .mobile-toggle { display: flex; }
  .main { padding: 24px 20px 80px; }
  .workflow { flex-direction: column; gap: 20px; }
  .workflow::before { display: none; }
  .card-grid { grid-template-columns: 1fr; }
}
@media (min-width: 901px) {
  .mobile-toggle { display: none; }
}

.mobile-toggle { position: fixed; top: 12px; left: 12px; z-index: 101; width: 40px; height: 40px; border: none; border-radius: var(--radius-md); background: var(--p-dark); color: var(--p-gold); font-size: 20px; cursor: pointer; align-items: center; justify-content: center; }
.overlay { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.5); z-index: 99; }
.overlay.visible { display: block; }

/* Priority colours */
.priority-critical { color: var(--p-error); }
.priority-high { color: var(--p-warning); }
.priority-standard { color: var(--p-success); }
.priority-optional { color: var(--theme-text-secondary); }

.priority-dot { width: 8px; height: 8px; border-radius: 50%; display: inline-block; margin-right: 6px; }
.priority-dot.critical { background: var(--p-error); }
.priority-dot.high { background: var(--p-warning); }
.priority-dot.standard { background: var(--p-success); }
.priority-dot.optional { background: var(--theme-text-secondary); }

/* Legend */
.legend { display: flex; gap: 20px; margin: 16px 0; flex-wrap: wrap; }
.legend-item { display: flex; align-items: center; gap: 6px; font-size: 12px; color: var(--theme-text-secondary); }
</style>
</head>
<body>

<div class="overlay" id="overlay"></div>
<button class="mobile-toggle" id="mobileToggle" aria-label="Toggle navigation">&#9776;</button>

<div class="page-wrapper">
<!-- Sidebar -->
<aside class="sidebar" id="sidebar">
  <div class="sidebar-header">
    <h1>Design Skills</h1>
    <div class="subtitle">Newport Pembury &amp; Co</div>
  </div>

  <div class="theme-toggle">
    <button id="btnLight" class="active" onclick="setTheme('light')">Light</button>
    <button id="btnDark" onclick="setTheme('dark')">Dark</button>
  </div>

  <div class="stats-bar">
    <div class="stat"><div class="stat-value">9</div><div class="stat-label">Files</div></div>
    <div class="stat"><div class="stat-value">3.8K</div><div class="stat-label">Lines</div></div>
    <div class="stat"><div class="stat-value">8</div><div class="stat-label">Domains</div></div>
  </div>

  <nav class="sidebar-nav">
    <div class="nav-group">
      <span class="nav-group-title">Overview</span>
      <a href="#overview">Skill System Overview</a>
      <a href="#workflow">Deployment Workflow</a>
      <a href="#triggers">When to Deploy</a>
    </div>
    <div class="nav-group">
      <span class="nav-group-title">Core</span>
      <a href="#skill-md">SKILL.md <span class="line-count">165</span></a>
    </div>
    <div class="nav-group">
      <span class="nav-group-title">References</span>
      <a href="#design-tokens">Design Tokens <span class="line-count">604</span></a>
      <a href="#premium-polish">Premium Polish <span class="line-count">609</span></a>
      <a href="#conversion-rules">Conversion Rules <span class="line-count">283</span></a>
      <a href="#accessibility">Accessibility <span class="line-count">354</span></a>
      <a href="#ux-architecture">UX Architecture <span class="line-count">251</span></a>
      <a href="#technical-seo">Technical SEO <span class="line-count">378</span></a>
      <a href="#data-viz">Data Visualisation <span class="line-count">890</span></a>
      <a href="#image-strategy">Image Strategy <span class="line-count">266</span></a>
    </div>
    <div class="nav-group">
      <span class="nav-group-title">Quality</span>
      <a href="#consistency">Cross-Page Consistency</a>
      <a href="#governance">Token Governance</a>
    </div>
    <div class="nav-group" style="border-top:1px solid var(--theme-sidebar-border);padding-top:12px;margin-top:8px;">
      <span class="nav-group-title">Related Tools</span>
      <a href="design-tokens.html" style="color:var(--p-gold);opacity:0.8;">&#9830; Design Tokens Viewer</a>
      <a href="self-adjustment-dashboard.html" style="color:var(--p-gold);opacity:0.8;">ðŸ”„ Self-Adjustment Protocol</a>
    </div>
  </nav>
</aside>

<!-- Main Content -->
<main class="main">

  <!-- Page Header -->
  <div class="page-header" id="overview">
    <h1>Web Design Skill System</h1>
    <p>9 files, 3,800 lines of codified design knowledge. This dashboard maps every skill, when to deploy it, key rules, and the checklists that govern quality. The same reference Claude reads before every build &mdash; now browsable for you.</p>
    <div class="legend">
      <div class="legend-item"><span class="priority-dot critical"></span>Critical &mdash; every build</div>
      <div class="legend-item"><span class="priority-dot high"></span>High &mdash; most builds</div>
      <div class="legend-item"><span class="priority-dot standard"></span>Standard &mdash; when relevant</div>
      <div class="legend-item"><span class="priority-dot optional"></span>Optional &mdash; specific tasks</div>
    </div>
  </div>

  <!-- Search -->
  <div class="toolbar">
    <div class="search-box">
      <input type="text" id="searchInput" placeholder="Search skills, rules, metrics..." oninput="filterCards()">
    </div>
    <span class="search-count" id="searchCount"></span>
  </div>

  <!-- ====== DEPLOYMENT WORKFLOW ====== -->
  <section class="section" id="workflow">
    <div class="section-header">
      <h2>Deployment Workflow</h2>
      <span class="badge badge-core">Process</span>
    </div>
    <p class="section-desc">The order Claude reads skill files before starting any build. Critical files are read every time; others are pulled in based on the task type.</p>

    <div class="workflow">
      <div class="workflow-step">
        <div class="step-num">1</div>
        <div class="step-title">SKILL.md</div>
        <div class="step-desc">Core workflow, tokens reference, checklists</div>
      </div>
      <div class="workflow-step">
        <div class="step-num">2</div>
        <div class="step-title">Premium Polish</div>
        <div class="step-desc">Typography, spacing, animation, luxury patterns</div>
      </div>
      <div class="workflow-step">
        <div class="step-num">3</div>
        <div class="step-title">Task-Specific</div>
        <div class="step-desc">Pull relevant reference file(s) for the task</div>
      </div>
      <div class="workflow-step">
        <div class="step-num">4</div>
        <div class="step-title">Build</div>
        <div class="step-desc">Write code following all loaded rules</div>
      </div>
      <div class="workflow-step">
        <div class="step-num">5</div>
        <div class="step-title">Verify</div>
        <div class="step-desc">Run consistency &amp; accessibility checklists</div>
      </div>
    </div>

    <!-- Trigger Matrix -->
    <table class="rules-table" id="triggers">
      <thead>
        <tr><th>Task Type</th><th>Files to Read</th><th>Priority</th></tr>
      </thead>
      <tbody>
        <tr><td>New page / full build</td><td class="metric">SKILL.md + premium-polish + conversion-rules + accessibility + ux-architecture</td><td><span class="priority-dot critical"></span>Critical</td></tr>
        <tr><td>Navigation / header / footer</td><td class="metric">SKILL.md + premium-polish (cross-page consistency checklist)</td><td><span class="priority-dot critical"></span>Critical</td></tr>
        <tr><td>CTA / form / conversion work</td><td class="metric">conversion-rules + accessibility</td><td><span class="priority-dot critical"></span>Critical</td></tr>
        <tr><td>Colour / spacing / typography</td><td class="metric">design-tokens + premium-polish</td><td><span class="priority-dot high"></span>High</td></tr>
        <tr><td>New article / blog post</td><td class="metric">premium-polish + data-visualization + technical-seo</td><td><span class="priority-dot high"></span>High</td></tr>
        <tr><td>Charts / infographics</td><td class="metric">data-visualization</td><td><span class="priority-dot standard"></span>Standard</td></tr>
        <tr><td>Image generation</td><td class="metric">image-strategy</td><td><span class="priority-dot standard"></span>Standard</td></tr>
        <tr><td>SEO / meta / schema</td><td class="metric">technical-seo</td><td><span class="priority-dot standard"></span>Standard</td></tr>
        <tr><td>Accessibility audit</td><td class="metric">accessibility</td><td><span class="priority-dot standard"></span>Standard</td></tr>
        <tr><td>Page structure / user flow</td><td class="metric">ux-architecture + conversion-rules</td><td><span class="priority-dot standard"></span>Standard</td></tr>
        <tr><td>Pre-deployment review</td><td class="metric">SKILL.md (full testing + consistency checklists)</td><td><span class="priority-dot critical"></span>Critical</td></tr>
      </tbody>
    </table>
  </section>

  <!-- ====== SKILL.MD ====== -->
  <section class="section searchable" id="skill-md">
    <div class="section-header">
      <h2>SKILL.md</h2>
      <span class="badge badge-core">Core</span>
      <span class="badge badge-lines">165 lines</span>
    </div>
    <p class="section-desc">The entry point Claude reads first on every build. Contains the 6-step core workflow, quick token reference for all 4 brands, conversion essentials, accessibility requirements, and the master testing checklist.</p>

    <div class="card-grid">
      <div class="card searchable-card">
        <h3><span class="icon" style="background:rgba(197,165,90,0.12);color:var(--p-gold);">1</span>Core Workflow</h3>
        <ul>
          <li>Identify site type (composite, cfo, garage-doors, curtain-rods)</li>
          <li>Apply 3-tier design tokens &mdash; 90% Semantic (Tier 2)</li>
          <li>Optimise conversions (CTA, hero, trust signals)</li>
          <li>Ensure WCAG 2.2 AA accessibility</li>
          <li>Test Core Web Vitals: LCP &lt;2.5s, INP &lt;200ms, CLS &lt;0.1</li>
          <li>Enforce token governance &mdash; no hardcoded HEX/px</li>
        </ul>
      </div>
      <div class="card searchable-card">
        <h3><span class="icon" style="background:rgba(197,165,90,0.12);color:var(--p-gold);">&#9830;</span>CFO Brand Tokens</h3>
        <ul>
          <li>Primary: Charcoal #1B2838</li>
          <li>Secondary: Gold #C5A55A</li>
          <li>Dark: #0F1923 &middot; Ivory: #F5F0E8</li>
          <li>Headings: Cormorant Garamond</li>
          <li>Body: DM Sans</li>
          <li>Spacing base: 8px grid</li>
        </ul>
      </div>
      <div class="card searchable-card">
        <h3><span class="icon" style="background:rgba(23,162,184,0.12);color:var(--p-info);">&#10003;</span>Testing Checklist</h3>
        <ul>
          <li>Design tokens applied correctly</li>
          <li>Colour contrast passes WCAG AA</li>
          <li>Keyboard navigation works</li>
          <li>CTAs high-contrast, first-person verbs</li>
          <li>Mobile CTA sticky positioned</li>
          <li>Heading hierarchy correct (H1 once)</li>
          <li>Focus indicators visible</li>
        </ul>
      </div>
    </div>
    <div class="triggers">
      <span class="trigger">website</span><span class="trigger">web design</span><span class="trigger">color palette</span><span class="trigger">typography</span><span class="trigger">layout</span><span class="trigger">design system</span><span class="trigger">UI</span><span class="trigger">UX</span><span class="trigger">accessibility</span><span class="trigger">brand</span><span class="trigger">styling</span>
    </div>
  </section>

  <!-- ====== DESIGN TOKENS ====== -->
  <section class="section searchable" id="design-tokens">
    <div class="section-header">
      <h2>Design Tokens</h2>
      <span class="badge badge-ref">Reference</span>
      <span class="badge badge-lines">604 lines</span>
    </div>
    <p class="section-desc">Complete 3-tier token architecture (Primitive &rarr; Semantic &rarr; Component) in W3C DTCG format. Colour palettes for all 4 brands, typography scales, spacing, shadows, border radius, easing functions, and CSS custom properties template.</p>

    <a href="design-tokens.html" class="card" style="display:flex;align-items:center;gap:16px;text-decoration:none;color:inherit;border-color:var(--p-gold);border-width:1.5px;margin-bottom:20px;">
      <div style="width:48px;height:48px;border-radius:10px;background:linear-gradient(135deg,var(--p-charcoal),var(--p-dark));display:flex;align-items:center;justify-content:center;font-size:22px;flex-shrink:0;">&#9830;</div>
      <div>
        <h3 style="margin:0;font-size:15px;">Open Interactive Token Viewer</h3>
        <p style="margin:4px 0 0;font-size:12px;">Browse every colour, space, shadow, and motion token with live swatches, WCAG contrast checking, and code export &rarr;</p>
      </div>
    </a>

    <table class="rules-table">
      <thead><tr><th>Rule</th><th>Value</th></tr></thead>
      <tbody>
        <tr><td>Token hierarchy</td><td class="metric">Tier 1 (Primitive) &rarr; Tier 2 (Semantic) &rarr; Tier 3 (Component)</td></tr>
        <tr><td>UI coverage</td><td class="metric">90% Tier 2 (Semantic) tokens</td></tr>
        <tr><td>Naming convention</td><td class="metric">category.subcategory.item.variant.state</td></tr>
        <tr><td>Governance enforcement</td><td class="metric">Stylelint blocks hardcoded HEX/RGB</td></tr>
        <tr><td>Design debt threshold</td><td class="metric">&gt;3% budget on UI fixes = systemic failure</td></tr>
        <tr><td>Spacing base</td><td class="metric">8px grid (4, 8, 16, 24, 32, 48, 64, 96, 128)</td></tr>
        <tr><td>Button height</td><td class="metric">44px min, 14px / 28px padding, 8px radius</td></tr>
        <tr><td>Easing (default)</td><td class="metric">ease-smooth: cubic-bezier(0.4, 0, 0.2, 1)</td></tr>
      </tbody>
    </table>
    <div class="triggers">
      <span class="trigger">color</span><span class="trigger">spacing</span><span class="trigger">typography</span><span class="trigger">shadow</span><span class="trigger">radius</span><span class="trigger">animation</span><span class="trigger">CSS variables</span><span class="trigger">design system</span>
    </div>
  </section>

  <!-- ====== PREMIUM POLISH ====== -->
  <section class="section searchable" id="premium-polish">
    <div class="section-header">
      <h2>Premium Polish</h2>
      <span class="badge badge-ref">Reference</span>
      <span class="badge badge-lines">609 lines</span>
    </div>
    <p class="section-desc">What separates good from excellent. Typography craft, spacing systems, animation mastery, visual hierarchy, image treatment, the "feel" factor, luxury website patterns (Stripe, Apple), and anti-patterns to avoid. Read before every build.</p>

    <div class="card-grid">
      <div class="card searchable-card">
        <h3><span class="icon" style="background:rgba(220,53,69,0.12);color:var(--p-error);">T</span>Typography Craft</h3>
        <ul>
          <li>Font smoothing: antialiased + optimizeLegibility</li>
          <li>Measure: 60&ndash;75 chars/line (~600&ndash;700px at 16px)</li>
          <li>Vertical rhythm: all spacing = multiples of line-height</li>
          <li>Optical sizing: font-size-adjust for visual consistency</li>
          <li>Smart punctuation: &ldquo;curly quotes&rdquo;, em dashes, ellipsis</li>
          <li>Widow prevention: last line &ge; 2 words</li>
        </ul>
      </div>
      <div class="card searchable-card">
        <h3><span class="icon" style="background:rgba(40,167,69,0.12);color:var(--p-success);">&#8943;</span>Animation Mastery</h3>
        <ul>
          <li>Ease-out (default), ease-in-out (modals), ease-spring (bouncy)</li>
          <li>Duration: micro 150&ndash;300ms, standard 300&ndash;500ms, never &gt;1000ms</li>
          <li>Button hover: scale 1.02&ndash;1.05, translateY(-1px), 150ms</li>
          <li>Card hover: translateY(-4px), 300ms, deeper shadow</li>
          <li>Stagger pattern: base delay + (index &times; 80ms)</li>
          <li>Reduced motion: respect prefers-reduced-motion</li>
        </ul>
      </div>
      <div class="card searchable-card">
        <h3><span class="icon" style="background:rgba(197,165,90,0.12);color:var(--p-gold);">&#9733;</span>Luxury Patterns</h3>
        <ul>
          <li>Noise/grain texture overlay at 3&ndash;5% opacity</li>
          <li>Gradient architecture: 3-stop diagonal gradients</li>
          <li>Text reveals with clip-path on scroll</li>
          <li>Magnetic buttons (cursor-aware hover effect)</li>
          <li>Stripe pyramid for B2B: sparse hero &rarr; dense features</li>
          <li>Information density rhythm: alternate sparse/dense sections</li>
        </ul>
      </div>
    </div>
    <div class="triggers">
      <span class="trigger">typography</span><span class="trigger">animation</span><span class="trigger">hover</span><span class="trigger">spacing</span><span class="trigger">visual hierarchy</span><span class="trigger">luxury</span><span class="trigger">polish</span><span class="trigger">feel</span>
    </div>
  </section>

  <!-- ====== CONVERSION RULES ====== -->
  <section class="section searchable" id="conversion-rules">
    <div class="section-header">
      <h2>Conversion Rules</h2>
      <span class="badge badge-ref">Reference</span>
      <span class="badge badge-lines">283 lines</span>
    </div>
    <p class="section-desc">CTA design specifications, hero section requirements, form optimisation, social proof placement, micro-interactions, mobile CTA strategy, and Core Web Vitals targets for 2026.</p>

    <table class="rules-table">
      <thead><tr><th>Metric</th><th>Target</th><th>Elite</th></tr></thead>
      <tbody>
        <tr><td>CTA button height</td><td class="metric">44px+</td><td class="metric">48&ndash;56px</td></tr>
        <tr><td>CTA button width</td><td class="metric">120px+</td><td class="metric">160px+</td></tr>
        <tr><td>CTA contrast ratio</td><td class="metric">4.5:1</td><td class="metric">7:1</td></tr>
        <tr><td>Form fields (max)</td><td class="metric">3 fields</td><td class="metric">2 fields</td></tr>
        <tr><td>Mobile input height</td><td class="metric">48px</td><td class="metric">56px</td></tr>
        <tr><td>LCP</td><td class="metric">&lt; 2.5s</td><td class="metric">&lt; 2.0s</td></tr>
        <tr><td>INP</td><td class="metric">&lt; 200ms</td><td class="metric">&lt; 150ms</td></tr>
        <tr><td>CLS</td><td class="metric">&lt; 0.1</td><td class="metric">0.0</td></tr>
      </tbody>
    </table>

    <div class="card-grid">
      <div class="card searchable-card">
        <h3>CTA Copy Rules</h3>
        <ul>
          <li>First-person verbs only: &ldquo;Book My Free Call&rdquo;</li>
          <li>Never generic: &ldquo;Submit&rdquo;, &ldquo;Click Here&rdquo;, &ldquo;Learn More&rdquo;</li>
          <li>One primary CTA + one secondary max per section</li>
          <li>Mobile CTA: sticky/floating = 10&ndash;15% conversion boost</li>
        </ul>
      </div>
      <div class="card searchable-card">
        <h3>Hero Section Required</h3>
        <ul>
          <li>Headline + subheadline + CTA + trust signal</li>
          <li>Load time: &lt; 2.5 seconds</li>
          <li>Above the fold on all viewports</li>
          <li>Progressive enhancement for interactions</li>
        </ul>
      </div>
    </div>
    <div class="triggers">
      <span class="trigger">CTA</span><span class="trigger">conversion</span><span class="trigger">form</span><span class="trigger">hero</span><span class="trigger">performance</span><span class="trigger">Core Web Vitals</span>
    </div>
  </section>

  <!-- ====== ACCESSIBILITY ====== -->
  <section class="section searchable" id="accessibility">
    <div class="section-header">
      <h2>Accessibility</h2>
      <span class="badge badge-ref">Reference</span>
      <span class="badge badge-lines">354 lines</span>
    </div>
    <p class="section-desc">WCAG 2.2 AA compliance checklist covering colour contrast, keyboard navigation, semantic HTML, ARIA, forms, heading hierarchy, reduced motion, and testing tools.</p>

    <table class="rules-table">
      <thead><tr><th>Requirement</th><th>Standard</th></tr></thead>
      <tbody>
        <tr><td>Body text contrast</td><td class="metric">4.5:1 minimum</td></tr>
        <tr><td>Large text contrast (18px+ bold)</td><td class="metric">3:1 minimum</td></tr>
        <tr><td>UI component contrast</td><td class="metric">3:1 minimum</td></tr>
        <tr><td>Focus indicator</td><td class="metric">2px solid outline, 2px offset, 3:1 contrast</td></tr>
        <tr><td>Touch target</td><td class="metric">44px min (48px recommended)</td></tr>
        <tr><td>Alt text length</td><td class="metric">&lt; 125 characters, never &ldquo;image of&rdquo;</td></tr>
        <tr><td>Heading hierarchy</td><td class="metric">H1 once, never skip levels</td></tr>
        <tr><td>Lighthouse score</td><td class="metric">90+ accessibility</td></tr>
      </tbody>
    </table>

    <div class="card searchable-card" style="margin-top: 16px;">
      <h3>Testing Tools</h3>
      <ul>
        <li>WAVE browser extension &mdash; target: 0 errors</li>
        <li>Axe DevTools &mdash; target: 0 critical/serious findings</li>
        <li>Lighthouse Accessibility &mdash; target: 90+ score</li>
        <li>Manual keyboard test: Tab through every interactive element</li>
        <li>Screen reader test: VoiceOver (Mac) or NVDA (Windows)</li>
      </ul>
    </div>
    <div class="triggers">
      <span class="trigger">WCAG</span><span class="trigger">accessibility</span><span class="trigger">contrast</span><span class="trigger">keyboard</span><span class="trigger">ARIA</span><span class="trigger">screen reader</span><span class="trigger">focus</span>
    </div>
  </section>

  <!-- ====== UX ARCHITECTURE ====== -->
  <section class="section searchable" id="ux-architecture">
    <div class="section-header">
      <h2>UX Architecture</h2>
      <span class="badge badge-ref">Reference</span>
      <span class="badge badge-lines">251 lines</span>
    </div>
    <p class="section-desc">Structural principles for user journeys: the trust pyramid (5-stage progressive commitment), narrative structure (Story Circle), cognitive load management (Hick&rsquo;s, Miller&rsquo;s, Jakob&rsquo;s Laws), and page architecture patterns.</p>

    <div class="card-grid">
      <div class="card searchable-card">
        <h3>Trust Pyramid (5 Stages)</h3>
        <ul>
          <li><strong>1. Assessment</strong> &mdash; 3&ndash;5 seconds, credibility check</li>
          <li><strong>2. Exploration</strong> &mdash; browse services, team, approach</li>
          <li><strong>3. Commitment</strong> &mdash; low-friction ask (email, download)</li>
          <li><strong>4. Reliance</strong> &mdash; higher friction (book call, engage)</li>
          <li><strong>5. Advocacy</strong> &mdash; referral, testimonial, case study</li>
        </ul>
      </div>
      <div class="card searchable-card">
        <h3>Cognitive Load Laws</h3>
        <ul>
          <li><strong>Hick&rsquo;s Law:</strong> 5&ndash;7 nav items max, 3&ndash;4 service cards</li>
          <li><strong>Miller&rsquo;s Law:</strong> group info in chunks of 3</li>
          <li><strong>Jakob&rsquo;s Law:</strong> standard patterns (logo left, nav right, CTA far-right)</li>
          <li>1 primary + 1 secondary CTA max per section</li>
          <li>Never hide critical info (credentials, pricing, contact)</li>
        </ul>
      </div>
      <div class="card searchable-card">
        <h3>Page Architecture Minimum</h3>
        <ul>
          <li>Hero section (headline + CTA + trust signal)</li>
          <li>Services overview</li>
          <li>Process / approach</li>
          <li>Trust signals (credentials, stats)</li>
          <li>Lead capture (form or CTA banner)</li>
          <li>Footer with full navigation</li>
        </ul>
      </div>
    </div>
    <div class="triggers">
      <span class="trigger">page structure</span><span class="trigger">user flow</span><span class="trigger">trust</span><span class="trigger">cognitive load</span><span class="trigger">progressive disclosure</span><span class="trigger">navigation</span>
    </div>
  </section>

  <!-- ====== TECHNICAL SEO ====== -->
  <section class="section searchable" id="technical-seo">
    <div class="section-header">
      <h2>Technical SEO</h2>
      <span class="badge badge-ref">Reference</span>
      <span class="badge badge-lines">378 lines</span>
    </div>
    <p class="section-desc">Schema markup (JSON-LD) templates, Open Graph meta tags, XML sitemaps, robots.txt, canonical tags, site architecture, llms.txt for generative engine optimisation (GEO), and a per-page SEO checklist.</p>

    <table class="rules-table">
      <thead><tr><th>Element</th><th>Specification</th></tr></thead>
      <tbody>
        <tr><td>Title tag</td><td class="metric">50&ndash;60 characters, unique per page</td></tr>
        <tr><td>Meta description</td><td class="metric">120&ndash;155 characters</td></tr>
        <tr><td>H1</td><td class="metric">Once per page, logical hierarchy below</td></tr>
        <tr><td>OG image</td><td class="metric">1200 &times; 630px, &lt; 300KB, WebP or JPG</td></tr>
        <tr><td>Canonical tag</td><td class="metric">Self-referencing on every page</td></tr>
        <tr><td>Site architecture</td><td class="metric">Flat &mdash; every page within 3 clicks</td></tr>
        <tr><td>Schema types</td><td class="metric">ProfessionalService, FAQPage, BreadcrumbList</td></tr>
        <tr><td>GEO (AI citation)</td><td class="metric">llms.txt, structured headings, direct answers first</td></tr>
      </tbody>
    </table>
    <div class="triggers">
      <span class="trigger">SEO</span><span class="trigger">schema</span><span class="trigger">JSON-LD</span><span class="trigger">meta tags</span><span class="trigger">Open Graph</span><span class="trigger">sitemap</span><span class="trigger">canonical</span><span class="trigger">robots.txt</span>
    </div>
  </section>

  <!-- ====== DATA VIZ ====== -->
  <section class="section searchable" id="data-viz">
    <div class="section-header">
      <h2>Data Visualisation</h2>
      <span class="badge badge-ref">Reference</span>
      <span class="badge badge-lines">890 lines</span>
    </div>
    <p class="section-desc">Static chart generation with matplotlib (bar, timeline, donut), OG image generation with Pillow (1200&times;630px), SVG illustrations (icons, patterns, animated charts), integration patterns, and chart design principles.</p>

    <div class="card-grid">
      <div class="card searchable-card">
        <h3>Chart Types</h3>
        <ul>
          <li><strong>Horizontal Bar</strong> &mdash; comparative data</li>
          <li><strong>Timeline</strong> &mdash; sequential/process data</li>
          <li><strong>Donut</strong> &mdash; part-to-whole proportions</li>
          <li><strong>Comparison</strong> &mdash; side-by-side metrics</li>
        </ul>
      </div>
      <div class="card searchable-card">
        <h3>Technical Specs</h3>
        <ul>
          <li>Primary format: SVG (scalable, smaller file)</li>
          <li>Fallback: PNG at 200 DPI</li>
          <li>Naming: chart-{descriptive-name}.svg</li>
          <li>Max width: 680px, test 320&ndash;1920px</li>
          <li>Alt text: summarise key data points</li>
          <li>CSS class: .article-chart, loading="lazy"</li>
        </ul>
      </div>
      <div class="card searchable-card">
        <h3>OG Images</h3>
        <ul>
          <li>Size: 1200 &times; 630px JPEG quality 92</li>
          <li>3-stop diagonal gradient (charcoal)</li>
          <li>Business name + visual for thumbnail</li>
          <li>Generated with Pillow (Python)</li>
        </ul>
      </div>
    </div>
    <div class="triggers">
      <span class="trigger">chart</span><span class="trigger">graph</span><span class="trigger">SVG</span><span class="trigger">matplotlib</span><span class="trigger">OG image</span><span class="trigger">infographic</span><span class="trigger">data viz</span>
    </div>
  </section>

  <!-- ====== IMAGE STRATEGY ====== -->
  <section class="section searchable" id="image-strategy">
    <div class="section-header">
      <h2>Image Strategy</h2>
      <span class="badge badge-ref">Reference</span>
      <span class="badge badge-lines">266 lines</span>
    </div>
    <p class="section-desc">AI image generation framework comparing tools (FLUX Pro, Midjourney, Ideogram, Leonardo, Recraft), per-site image needs with prompt templates, decision matrices, post-processing pipeline, and cost analysis.</p>

    <div class="card-grid">
      <div class="card searchable-card">
        <h3>AI Tools Comparison</h3>
        <ul>
          <li><strong>FLUX Pro</strong> &mdash; ~$0.05/image, photorealistic textures</li>
          <li><strong>Midjourney v7</strong> &mdash; $30/mo, aesthetic lifestyle/mood</li>
          <li><strong>Ideogram 3.0</strong> &mdash; $8&ndash;20/mo, text-heavy images</li>
          <li><strong>Leonardo</strong> &mdash; realtime generation, iteration</li>
          <li><strong>Recraft</strong> &mdash; vector/icon generation</li>
        </ul>
      </div>
      <div class="card searchable-card">
        <h3>AI vs Real Decision</h3>
        <ul>
          <li><strong>AI-safe:</strong> abstract backgrounds, textures, blog headers</li>
          <li><strong>Must be real:</strong> products, faces, certifications</li>
          <li>CFO anti-pattern: no stock cityscapes or handshakes</li>
          <li>Cost: 95&ndash;99% reduction vs traditional photography</li>
          <li>Aspect ratios: Hero 16:9, testimonials 1:1, cards 3:2</li>
        </ul>
      </div>
    </div>
    <div class="triggers">
      <span class="trigger">image</span><span class="trigger">AI generation</span><span class="trigger">FLUX</span><span class="trigger">Midjourney</span><span class="trigger">photography</span><span class="trigger">hero image</span>
    </div>
  </section>

  <!-- ====== CROSS-PAGE CONSISTENCY ====== -->
  <section class="section searchable" id="consistency">
    <div class="section-header">
      <h2>Cross-Page Consistency</h2>
      <span class="badge badge-core">Quality Gate</span>
    </div>
    <p class="section-desc">Run before every deployment. Inconsistencies in shared components erode brand trust. Every page must use the same canonical HTML &mdash; CSS classes, not inline styles.</p>

    <div class="checklist">
      <h3>Header / Navigation</h3>
      <div class="checklist-item" onclick="toggleCheck(this)"><div class="check"></div><span>Identical &lt;nav id="navbar"&gt; structure on every page</span></div>
      <div class="checklist-item" onclick="toggleCheck(this)"><div class="check"></div><span>Same nav links in same order (Our Firm, What We Do, Insights)</span></div>
      <div class="checklist-item" onclick="toggleCheck(this)"><div class="check"></div><span>Correct active class on the current page's nav link only</span></div>
      <div class="checklist-item" onclick="toggleCheck(this)"><div class="check"></div><span>Same CTA button text ("Book My Free Call") and href (/contact)</span></div>
      <div class="checklist-item" onclick="toggleCheck(this)"><div class="check"></div><span>Theme toggle present and positioned after CTA</span></div>
      <div class="checklist-item" onclick="toggleCheck(this)"><div class="check"></div><span>Hamburger button includes aria-controls="navLinks"</span></div>
      <div class="checklist-item" onclick="toggleCheck(this)"><div class="check"></div><span>Same padding/height (py-5) on nav container</span></div>
      <div class="checklist-item" onclick="toggleCheck(this)"><div class="check"></div><span>Semantic &lt;ul&gt;/&lt;li&gt; markup for nav links</span></div>
    </div>

    <div class="checklist">
      <h3>Footer</h3>
      <div class="checklist-item" onclick="toggleCheck(this)"><div class="check"></div><span>CSS classes (footer-brand, footer-links, footer-contact) &mdash; never inline styles</span></div>
      <div class="checklist-item" onclick="toggleCheck(this)"><div class="check"></div><span>Semantic &lt;nav&gt; wrappers with aria-label on link columns</span></div>
      <div class="checklist-item" onclick="toggleCheck(this)"><div class="check"></div><span>&lt;ul&gt;/&lt;li&gt; lists for footer links</span></div>
      <div class="checklist-item" onclick="toggleCheck(this)"><div class="check"></div><span>Services: M&amp;A Advisory, Cash Flow &amp; Financial Strategy, Systems &amp; Transformation, Strategic CFO Partnership</span></div>
      <div class="checklist-item" onclick="toggleCheck(this)"><div class="check"></div><span>Company: Our Firm &rarr; /about, Our Team &rarr; /about, Our Approach &rarr; /#process, Insights &rarr; /insights/</span></div>
      <div class="checklist-item" onclick="toggleCheck(this)"><div class="check"></div><span>Contact column: email, phone, "Sydney, Australia" with footer-location class</span></div>
      <div class="checklist-item" onclick="toggleCheck(this)"><div class="check"></div><span>Footer bottom: copyright year, Privacy Policy, Terms of Service</span></div>
      <div class="checklist-item" onclick="toggleCheck(this)"><div class="check"></div><span>No extra columns (Legal column removed &mdash; links live in footer-bottom only)</span></div>
    </div>

    <div class="checklist">
      <h3>Brand Consistency</h3>
      <div class="checklist-item" onclick="toggleCheck(this)"><div class="check"></div><span>Logo text "Newport Pembury &amp; Co" identical everywhere</span></div>
      <div class="checklist-item" onclick="toggleCheck(this)"><div class="check"></div><span>Tagline "Strategic Financial Leadership" matches exactly</span></div>
      <div class="checklist-item" onclick="toggleCheck(this)"><div class="check"></div><span>Gold ampersand uses &lt;span class="gold-amp"&gt; in nav logo</span></div>
      <div class="checklist-item" onclick="toggleCheck(this)"><div class="check"></div><span>All colour values via CSS custom properties &mdash; no hardcoded HEX</span></div>
      <div class="checklist-item" onclick="toggleCheck(this)"><div class="check"></div><span>Cormorant Garamond (headings) + DM Sans (body) everywhere</span></div>
      <div class="checklist-item" onclick="toggleCheck(this)"><div class="check"></div><span>Touch targets meet 44px minimum</span></div>
    </div>
  </section>

  <!-- ====== TOKEN GOVERNANCE ====== -->
  <section class="section searchable" id="governance">
    <div class="section-header">
      <h2>Token Governance</h2>
      <span class="badge badge-core">Quality Gate</span>
    </div>
    <p class="section-desc">Enforcement rules that prevent design debt from accumulating. Automated via Stylelint and manual review.</p>

    <div class="card-grid">
      <div class="card searchable-card">
        <h3>Automated Checks</h3>
        <ul>
          <li>Stylelint blocks hardcoded HEX/RGB values in CSS</li>
          <li>All values must reference CSS custom properties</li>
          <li>3% rule: &gt;3% budget on UI fixes = systemic failure</li>
          <li>Tier 1 (primitive) tokens never applied directly to components</li>
          <li>W3C DTCG JSON as single source of truth</li>
        </ul>
      </div>
      <div class="card searchable-card">
        <h3>Manual Review</h3>
        <ul>
          <li>No inline styles duplicating CSS classes</li>
          <li>Consistent service/company labels across all pages</li>
          <li>Hash links use /#process on non-homepage pages</li>
          <li>CTA text always &ldquo;Book My Free Call&rdquo; (not variations)</li>
          <li>Missing aria-label attributes on nav landmarks</li>
        </ul>
      </div>
    </div>
  </section>

</main>
</div>

<script>
// Theme toggle
function setTheme(t) {
  document.documentElement.setAttribute('data-theme', t);
  document.getElementById('btnLight').classList.toggle('active', t === 'light');
  document.getElementById('btnDark').classList.toggle('active', t === 'dark');
  localStorage.setItem('skills-theme', t);
}
const saved = localStorage.getItem('skills-theme');
if (saved) setTheme(saved);

// Mobile sidebar toggle
const sidebar = document.getElementById('sidebar');
const overlay = document.getElementById('overlay');
const mobileToggle = document.getElementById('mobileToggle');
mobileToggle.addEventListener('click', () => {
  sidebar.classList.toggle('open');
  overlay.classList.toggle('visible');
});
overlay.addEventListener('click', () => {
  sidebar.classList.remove('open');
  overlay.classList.remove('visible');
});

// Sidebar active state on scroll
const sections = document.querySelectorAll('.section');
const navLinks = document.querySelectorAll('.sidebar-nav a');
const observer = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      const id = entry.target.id;
      navLinks.forEach(l => l.classList.remove('active'));
      const active = document.querySelector(`.sidebar-nav a[href="#${id}"]`);
      if (active) active.classList.add('active');
    }
  });
}, { rootMargin: '-20% 0px -70% 0px' });
sections.forEach(s => observer.observe(s));

// Search
function filterCards() {
  const q = document.getElementById('searchInput').value.toLowerCase().trim();
  const allSections = document.querySelectorAll('.section.searchable');
  let visible = 0;
  allSections.forEach(section => {
    const text = section.textContent.toLowerCase();
    const match = !q || text.includes(q);
    section.style.display = match ? '' : 'none';
    if (match) visible++;
  });
  const countEl = document.getElementById('searchCount');
  countEl.textContent = q ? `${visible} of ${allSections.length} sections` : '';
}

// Checklist toggle
function toggleCheck(item) {
  const check = item.querySelector('.check');
  check.classList.toggle('checked');
  item.classList.toggle('done');
}

// Close mobile sidebar on nav click
navLinks.forEach(link => {
  link.addEventListener('click', () => {
    if (window.innerWidth <= 900) {
      sidebar.classList.remove('open');
      overlay.classList.remove('visible');
    }
  });
});
</script>
</body>
</html>