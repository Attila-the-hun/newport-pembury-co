<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DFRUVL Self-Adjustment Protocol Dashboard</title>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;500;600;700&family=DM+Sans:wght@400;500;600&display=swap" rel="stylesheet">

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #1B2838;
            --secondary: #C5A55A;
            --dark: #0F1923;
            --ivory: #F5F0E8;
            --bg-light: #FFFFFF;
            --bg-dark: #0F1923;
            --text-light: #1B2838;
            --text-dark: #F5F0E8;
            --border-light: #E8E0D0;
            --border-dark: #2A3F5F;
            --shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            --shadow-dark: 0 2px 8px rgba(0, 0, 0, 0.4);

            --severity-critical: #E63946;
            --severity-major: #F77F00;
            --severity-minor: #457B9D;
            --severity-enhancement: #6C757D;
            --status-active: #C5A55A;
            --status-resolved: #2D6A4F;
        }

        body.dark-mode {
            --bg-light: #0F1923;
            --bg-dark: #1A2F4F;
            --text-light: #F5F0E8;
            --text-dark: #E8E0D0;
            --border-light: #2A3F5F;
            --border-dark: #3A5F7F;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'DM Sans', sans-serif;
            background-color: var(--bg-light);
            color: var(--text-light);
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        h1, h2, h3, h4, h5, h6 {
            font-family: 'Cormorant Garamond', serif;
            font-weight: 700;
        }

        /* Layout */
        .container {
            display: flex;
            min-height: 100vh;
        }

        /* Sidebar Navigation */
        .sidebar {
            width: 280px;
            background-color: var(--primary);
            color: var(--ivory);
            padding: 2rem 0;
            position: fixed;
            left: 0;
            top: 0;
            height: 100vh;
            overflow-y: auto;
            box-shadow: 2px 0 8px rgba(0, 0, 0, 0.3);
            transition: transform 0.3s ease, width 0.3s ease;
            z-index: 1000;
        }

        body.dark-mode .sidebar {
            background-color: var(--dark);
        }

        .sidebar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1.5rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            margin-bottom: 2rem;
        }

        .sidebar-title {
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.3rem;
            font-weight: 700;
        }

        .theme-toggle {
            background: transparent;
            border: 1px solid var(--secondary);
            color: var(--secondary);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.2rem;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .theme-toggle:hover {
            background-color: var(--secondary);
            color: var(--primary);
        }

        .sidebar-nav {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
            padding: 0 1rem;
        }

        .nav-item {
            padding: 0.75rem 1rem;
            color: var(--ivory);
            cursor: pointer;
            border-radius: 8px;
            transition: all 0.3s ease;
            border-left: 3px solid transparent;
            font-size: 0.95rem;
        }

        .nav-item:hover {
            background-color: rgba(197, 165, 90, 0.1);
            border-left-color: var(--secondary);
        }

        .nav-item.active {
            background-color: rgba(197, 165, 90, 0.2);
            border-left-color: var(--secondary);
            color: var(--secondary);
            font-weight: 600;
        }

        /* Main Content */
        .main-content {
            margin-left: 280px;
            flex: 1;
            background-color: var(--bg-light);
            transition: margin-left 0.3s ease;
        }

        .header-bar {
            background-color: var(--primary);
            color: var(--ivory);
            padding: 1.5rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 2rem;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            flex-wrap: wrap;
        }

        body.dark-mode .header-bar {
            background-color: var(--dark);
        }

        .stats-container {
            display: flex;
            gap: 2rem;
            flex-wrap: wrap;
        }

        .stat {
            display: flex;
            gap: 0.5rem;
            font-size: 0.9rem;
        }

        .stat-label {
            color: rgba(255, 255, 255, 0.7);
        }

        .stat-value {
            color: var(--secondary);
            font-weight: 600;
        }

        .search-box {
            background-color: rgba(255, 255, 255, 0.1);
            border: 1px solid var(--secondary);
            padding: 0.75rem 1rem;
            border-radius: 6px;
            color: var(--ivory);
            width: 250px;
            transition: all 0.3s ease;
        }

        .search-box:focus {
            outline: none;
            background-color: rgba(255, 255, 255, 0.15);
            box-shadow: 0 0 0 3px rgba(197, 165, 90, 0.1);
        }

        .search-box::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }

        /* Sections */
        .section {
            display: none;
            padding: 3rem 2rem;
            animation: fadeIn 0.3s ease;
        }

        .section.active {
            display: block;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .section-title {
            font-family: 'Cormorant Garamond', serif;
            font-size: 2.5rem;
            margin-bottom: 2rem;
            color: var(--primary);
        }

        body.dark-mode .section-title {
            color: var(--secondary);
        }

        /* Cards */
        .card {
            background-color: var(--bg-light);
            border: 1px solid var(--border-light);
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: var(--shadow);
            transition: all 0.3s ease;
        }

        body.dark-mode .card {
            background-color: var(--bg-dark);
            border-color: var(--border-dark);
            box-shadow: var(--shadow-dark);
        }

        .card:hover {
            transform: translateY(-4px);
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);
        }

        body.dark-mode .card:hover {
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.4);
        }

        .card-title {
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.3rem;
            margin-bottom: 0.5rem;
            color: var(--primary);
        }

        body.dark-mode .card-title {
            color: var(--ivory);
        }

        .card-subtitle {
            font-size: 0.85rem;
            color: #999;
            margin-bottom: 1rem;
        }

        body.dark-mode .card-subtitle {
            color: #AAA;
        }

        /* DFRUVL Flow Diagram */
        .flow-diagram {
            display: flex;
            gap: 1.5rem;
            align-items: center;
            justify-content: center;
            flex-wrap: wrap;
            margin: 3rem 0;
            padding: 2rem;
            background: linear-gradient(135deg, rgba(197, 165, 90, 0.05) 0%, rgba(197, 165, 90, 0.02) 100%);
            border-radius: 12px;
            border: 1px solid var(--border-light);
            position: relative;
        }

        body.dark-mode .flow-diagram {
            border-color: var(--border-dark);
            background: linear-gradient(135deg, rgba(197, 165, 90, 0.1) 0%, rgba(197, 165, 90, 0.05) 100%);
        }

        .flow-step {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.75rem;
            min-width: 120px;
            text-align: center;
            padding: 1rem;
        }

        .flow-circle {
            width: 90px;
            height: 90px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: var(--ivory);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 0.3rem;
            font-weight: 600;
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.1rem;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            position: relative;
            transition: all 0.3s ease;
        }

        .flow-circle:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(197, 165, 90, 0.4);
        }

        .flow-step-name {
            font-size: 0.8rem;
            color: var(--primary);
            font-weight: 600;
            margin-top: 0.5rem;
        }

        body.dark-mode .flow-step-name {
            color: var(--ivory);
        }

        .flow-step-desc {
            font-size: 0.75rem;
            color: #666;
            width: 140px;
        }

        body.dark-mode .flow-step-desc {
            color: #AAA;
        }

        .arrow {
            font-size: 1.8rem;
            color: var(--secondary);
            font-weight: bold;
            animation: pulse-arrow 2s infinite;
        }

        @keyframes pulse-arrow {
            0%, 100% { opacity: 0.6; }
            50% { opacity: 1; }
        }

        .loop-arrow {
            position: absolute;
            bottom: -40px;
            right: 20px;
            font-size: 2rem;
            color: var(--secondary);
            animation: loop-pulse 2s infinite;
        }

        @keyframes loop-pulse {
            0%, 100% { transform: translateY(0) rotate(0deg); opacity: 0.6; }
            50% { transform: translateY(5px) rotate(5deg); opacity: 1; }
        }

        /* Badges */
        .badge {
            display: inline-block;
            padding: 0.35rem 0.75rem;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .badge-critical {
            background-color: var(--severity-critical);
            color: white;
        }

        .badge-major {
            background-color: var(--severity-major);
            color: white;
        }

        .badge-minor {
            background-color: var(--severity-minor);
            color: white;
        }

        .badge-enhancement {
            background-color: var(--severity-enhancement);
            color: white;
        }

        .badge-active {
            background-color: transparent;
            border: 2px solid var(--secondary);
            color: var(--secondary);
        }

        .badge-resolved {
            background-color: var(--status-resolved);
            color: white;
        }

        /* Tables */
        .table-wrapper {
            overflow-x: auto;
            margin: 1.5rem 0;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            background-color: var(--bg-light);
        }

        body.dark-mode table {
            background-color: var(--bg-dark);
        }

        th {
            background-color: var(--primary);
            color: var(--ivory);
            padding: 1rem;
            text-align: left;
            font-weight: 600;
            font-size: 0.9rem;
        }

        body.dark-mode th {
            background-color: rgba(27, 40, 56, 0.5);
        }

        td {
            padding: 0.75rem 1rem;
            border-bottom: 1px solid var(--border-light);
        }

        body.dark-mode td {
            border-bottom-color: var(--border-dark);
        }

        tr:hover {
            background-color: rgba(197, 165, 90, 0.05);
        }

        body.dark-mode tr:hover {
            background-color: rgba(197, 165, 90, 0.1);
        }

        /* Expandable Sections */
        .expandable {
            border: 1px solid var(--border-light);
            border-radius: 8px;
            overflow: hidden;
            margin-bottom: 1rem;
        }

        body.dark-mode .expandable {
            border-color: var(--border-dark);
        }

        .expandable-header {
            background-color: rgba(27, 40, 56, 0.05);
            padding: 1rem;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s ease;
        }

        body.dark-mode .expandable-header {
            background-color: rgba(197, 165, 90, 0.1);
        }

        .expandable-header:hover {
            background-color: rgba(197, 165, 90, 0.1);
        }

        body.dark-mode .expandable-header:hover {
            background-color: rgba(197, 165, 90, 0.15);
        }

        .expandable-icon {
            transition: transform 0.3s ease;
            color: var(--secondary);
            font-size: 1.2rem;
        }

        .expandable.open .expandable-icon {
            transform: rotate(180deg);
        }

        .expandable-content {
            display: none;
            padding: 1.5rem;
            background-color: var(--bg-light);
            border-top: 1px solid var(--border-light);
        }

        body.dark-mode .expandable-content {
            background-color: var(--bg-dark);
            border-top-color: var(--border-dark);
        }

        .expandable.open .expandable-content {
            display: block;
            animation: slideDown 0.3s ease;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Progress Bars */
        .progress-wrapper {
            margin: 1.5rem 0;
        }

        .progress-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
        }

        .progress-bar {
            height: 10px;
            background-color: var(--border-light);
            border-radius: 10px;
            overflow: hidden;
            box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        body.dark-mode .progress-bar {
            background-color: var(--border-dark);
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--secondary), #D4AF37);
            border-radius: 10px;
            transition: width 0.6s ease;
            box-shadow: 0 0 10px rgba(197, 165, 90, 0.4);
        }

        /* Reflection Cards */
        .reflection-card {
            background-color: var(--bg-light);
            border: 2px solid var(--border-light);
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            transition: all 0.3s ease;
        }

        body.dark-mode .reflection-card {
            background-color: var(--bg-dark);
            border-color: var(--border-dark);
        }

        .reflection-card:hover {
            border-color: var(--secondary);
            box-shadow: 0 0 20px rgba(197, 165, 90, 0.2);
        }

        .reflection-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 1rem;
            gap: 1rem;
        }

        .reflection-id {
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--primary);
        }

        body.dark-mode .reflection-id {
            color: var(--secondary);
        }

        .reflection-badges {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }

        .reflection-content {
            display: grid;
            gap: 0.75rem;
            font-size: 0.9rem;
        }

        .reflection-row {
            display: flex;
            gap: 1rem;
        }

        .reflection-label {
            min-width: 120px;
            font-weight: 600;
            color: #666;
        }

        body.dark-mode .reflection-label {
            color: #AAA;
        }

        .reflection-value {
            color: var(--text-light);
        }

        body.dark-mode .reflection-value {
            color: var(--text-dark);
        }

        /* Pattern Cards */
        .pattern-card {
            background: linear-gradient(135deg, rgba(197, 165, 90, 0.05) 0%, rgba(197, 165, 90, 0.02) 100%);
            border: 2px solid var(--secondary);
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }

        body.dark-mode .pattern-card {
            background: linear-gradient(135deg, rgba(197, 165, 90, 0.15) 0%, rgba(197, 165, 90, 0.08) 100%);
        }

        .pattern-id {
            display: inline-block;
            background-color: var(--secondary);
            color: var(--primary);
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-weight: 600;
            font-size: 0.75rem;
            margin-bottom: 0.5rem;
        }

        .pattern-title {
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.3rem;
            margin: 0.5rem 0 1rem 0;
            color: var(--primary);
        }

        body.dark-mode .pattern-title {
            color: var(--ivory);
        }

        .pattern-links {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }

        .pattern-link {
            background-color: var(--primary);
            color: var(--ivory);
            padding: 0.35rem 0.75rem;
            border-radius: 6px;
            font-size: 0.8rem;
            text-decoration: none;
            transition: all 0.3s ease;
        }

        body.dark-mode .pattern-link {
            background-color: rgba(197, 165, 90, 0.2);
            color: var(--secondary);
            border: 1px solid var(--secondary);
        }

        .pattern-link:hover {
            background-color: var(--secondary);
            color: var(--primary);
        }

        /* Timeline */
        .timeline {
            position: relative;
            padding-left: 2rem;
        }

        .timeline-item {
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            border-left: 3px solid var(--secondary);
            background-color: var(--bg-light);
            border-radius: 0 8px 8px 0;
            position: relative;
        }

        body.dark-mode .timeline-item {
            background-color: var(--bg-dark);
        }

        .timeline-item::before {
            content: '';
            position: absolute;
            left: -10px;
            top: 1.5rem;
            width: 16px;
            height: 16px;
            background-color: var(--secondary);
            border-radius: 50%;
            border: 3px solid var(--bg-light);
        }

        body.dark-mode .timeline-item::before {
            border-color: var(--bg-dark);
        }

        .timeline-date {
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--secondary);
        }

        .timeline-title {
            font-weight: 600;
            color: var(--primary);
            margin: 0.5rem 0;
        }

        body.dark-mode .timeline-title {
            color: var(--ivory);
        }

        .timeline-desc {
            font-size: 0.9rem;
            color: #666;
        }

        body.dark-mode .timeline-desc {
            color: #AAA;
        }

        /* Donut Chart */
        .donut-wrapper {
            display: flex;
            gap: 2rem;
            align-items: center;
            justify-content: center;
            flex-wrap: wrap;
            margin: 2rem 0;
        }

        .donut-svg {
            width: 200px;
            height: 200px;
        }

        .donut-legend {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .donut-item {
            display: flex;
            gap: 0.75rem;
            align-items: center;
            font-size: 0.9rem;
        }

        .donut-color {
            width: 16px;
            height: 16px;
            border-radius: 3px;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .sidebar {
                width: 0;
                padding: 0;
                transform: translateX(-100%);
            }

            .sidebar.open {
                width: 280px;
                transform: translateX(0);
                padding: 2rem 0;
            }

            .main-content {
                margin-left: 0;
            }

            .section {
                padding: 2rem 1rem;
            }

            .header-bar {
                padding: 1rem;
                flex-direction: column;
                align-items: stretch;
            }

            .stats-container {
                gap: 1rem;
            }

            .search-box {
                width: 100%;
            }

            .flow-diagram {
                flex-direction: column;
                gap: 0.5rem;
            }

            .arrow {
                transform: rotate(90deg);
            }

            .section-title {
                font-size: 1.8rem;
            }

            .flow-circle {
                width: 70px;
                height: 70px;
                font-size: 0.9rem;
            }
        }

        /* Menu Toggle */
        .menu-toggle {
            display: none;
            background: transparent;
            border: none;
            color: var(--ivory);
            font-size: 1.5rem;
            cursor: pointer;
            padding: 0.5rem;
        }

        @media (max-width: 768px) {
            .menu-toggle {
                display: block;
            }
        }

        /* Hidden Search Results */
        .hidden {
            display: none !important;
        }

        /* Academic Foundations Table */
        .academic-table {
            width: 100%;
            margin-top: 1.5rem;
        }

        .academic-table td {
            vertical-align: top;
        }

        .paper-link {
            color: var(--secondary);
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .paper-link:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Sidebar Navigation -->
        <nav class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div class="sidebar-title">DFRUVL</div>
                <button class="theme-toggle" id="themeToggle" title="Toggle dark mode">üåô</button>
            </div>

            <div class="sidebar-nav">
                <div class="nav-item active" data-section="overview">üìä Overview</div>
                <div class="nav-item" data-section="dfruvl-cycle">üîÑ DFRUVL Cycle</div>
                <div class="nav-item" data-section="reflections">üìù Reflections Log</div>
                <div class="nav-item" data-section="patterns">üîó Patterns</div>
                <div class="nav-item" data-section="skill-versions">üìà Skill Versions</div>
                <div class="nav-item" data-section="metrics">üìä Metrics</div>
                <div class="nav-item" data-section="academic">üéì Academic Foundations</div>
                <div style="border-top: 1px solid rgba(255, 255, 255, 0.1); margin-top: 1.5rem; padding-top: 1.5rem;">
                    <div class="nav-item" style="font-size: 0.85rem; color: rgba(255, 255, 255, 0.6);">Related Tools</div>
                    <a href="design-tokens.html" style="display: block; padding: 0.75rem 1rem; color: var(--ivory); text-decoration: none; border-radius: 8px; transition: all 0.3s ease; margin-top: 0.5rem;" onmouseover="this.style.backgroundColor='rgba(197, 165, 90, 0.1)'" onmouseout="this.style.backgroundColor='transparent'">
                        üé® Design Tokens
                    </a>
                    <a href="skills-dashboard.html" style="display: block; padding: 0.75rem 1rem; color: var(--ivory); text-decoration: none; border-radius: 8px; transition: all 0.3s ease; margin-top: 0.5rem;" onmouseover="this.style.backgroundColor='rgba(197, 165, 90, 0.1)'" onmouseout="this.style.backgroundColor='transparent'">
                        üéØ Skills Dashboard
                    </a>
                </div>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Header Bar with Stats -->
            <div class="header-bar">
                <button class="menu-toggle" id="menuToggle">‚ò∞</button>
                <div class="stats-container">
                    <div class="stat">
                        <span class="stat-label">Reflections:</span>
                        <span class="stat-value">5</span>
                    </div>
                    <div class="stat">
                        <span class="stat-label">Patterns:</span>
                        <span class="stat-value">3</span>
                    </div>
                    <div class="stat">
                        <span class="stat-label">Version:</span>
                        <span class="stat-value">v1.3.0</span>
                    </div>
                    <div class="stat">
                        <span class="stat-label">Codebase:</span>
                        <span class="stat-value">4,500+ Lines</span>
                    </div>
                </div>
                <input type="text" class="search-box" id="searchBox" placeholder="Search all sections...">
            </div>

            <!-- OVERVIEW SECTION -->
            <section class="section active" id="overview">
                <h1 class="section-title">Overview</h1>

                <div class="card">
                    <h2 class="card-title">Self-Adjustment Protocol</h2>
                    <p style="margin-bottom: 1rem; line-height: 1.6;">
                        The DFRUVL protocol is a systematic approach to continuous improvement and self-correction in AI-assisted design systems. It captures the complete lifecycle of identifying issues, fixing them, learning from them, and codifying that knowledge for future use. By treating design maintenance as a structured, recursive process, we achieve higher quality, consistency, and resilience across all design outputs.
                    </p>
                </div>

                <div class="flow-diagram" style="position: relative;">
                    <div class="flow-step">
                        <div class="flow-circle">
                            <span style="font-size: 1.8rem;">üîç</span>
                            <span>DETECT</span>
                        </div>
                        <div class="flow-step-name">Detect Issues</div>
                        <div class="flow-step-desc">Identify gaps and inconsistencies in designs</div>
                    </div>
                    <div class="arrow">‚Üí</div>

                    <div class="flow-step">
                        <div class="flow-circle">
                            <span style="font-size: 1.8rem;">üîß</span>
                            <span>FIX</span>
                        </div>
                        <div class="flow-step-name">Fix Issues</div>
                        <div class="flow-step-desc">Implement solutions and corrections</div>
                    </div>
                    <div class="arrow">‚Üí</div>

                    <div class="flow-step">
                        <div class="flow-circle">
                            <span style="font-size: 1.8rem;">üí≠</span>
                            <span>REFLECT</span>
                        </div>
                        <div class="flow-step-name">Reflect</div>
                        <div class="flow-step-desc">Analyze root causes and patterns</div>
                    </div>
                    <div class="arrow">‚Üí</div>

                    <div class="flow-step">
                        <div class="flow-circle">
                            <span style="font-size: 1.8rem;">üìù</span>
                            <span>UPDATE</span>
                        </div>
                        <div class="flow-step-name">Update Rules</div>
                        <div class="flow-step-desc">Codify learning into specifications</div>
                    </div>
                    <div class="arrow">‚Üí</div>

                    <div class="flow-step">
                        <div class="flow-circle">
                            <span style="font-size: 1.8rem;">‚úì</span>
                            <span>VERIFY</span>
                        </div>
                        <div class="flow-step-name">Verify System</div>
                        <div class="flow-step-desc">Test constitutional compliance</div>
                    </div>
                    <div class="arrow">‚Üí</div>

                    <div class="flow-step">
                        <div class="flow-circle">
                            <span style="font-size: 1.8rem;">üìö</span>
                            <span>LOG</span>
                        </div>
                        <div class="flow-step-name">Log Change</div>
                        <div class="flow-step-desc">Record in CHANGELOG with version</div>
                    </div>

                    <div class="loop-arrow">‚Üª</div>
                </div>

                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem; margin-top: 3rem;">
                    <div class="card">
                        <h3 class="card-title" style="font-size: 1.1rem;">üîÑ Recursive</h3>
                        <p style="font-size: 0.9rem; line-height: 1.6;">Each cycle builds on previous learning, creating a spiral of continuous improvement.</p>
                    </div>
                    <div class="card">
                        <h3 class="card-title" style="font-size: 1.1rem;">üìä Measurable</h3>
                        <p style="font-size: 0.9rem; line-height: 1.6;">Track defect rates, governance scores, and time-to-codify metrics.</p>
                    </div>
                    <div class="card">
                        <h3 class="card-title" style="font-size: 1.1rem;">üéì Evidence-Based</h3>
                        <p style="font-size: 0.9rem; line-height: 1.6;">Grounded in reflexion, constitutional AI, and process reward models.</p>
                    </div>
                </div>
            </section>

            <!-- DFRUVL CYCLE SECTION -->
            <section class="section" id="dfruvl-cycle">
                <h1 class="section-title">DFRUVL Cycle</h1>

                <!-- DETECT -->
                <div class="expandable" data-stage="detect">
                    <div class="expandable-header">
                        <div>
                            <h3 class="card-title" style="margin: 0; font-size: 1.1rem;">üîç DETECT: Identify Issues</h3>
                            <p style="font-size: 0.85rem; color: #999; margin-top: 0.25rem;">Classify severity and impact of discovered gaps</p>
                        </div>
                        <span class="expandable-icon">‚ñº</span>
                    </div>
                    <div class="expandable-content">
                        <p style="margin-bottom: 1rem;">Issues are classified by severity to prioritize response and allocate resources appropriately.</p>
                        <div class="table-wrapper">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Severity</th>
                                        <th>Definition</th>
                                        <th>Impact</th>
                                        <th>Example</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><span class="badge badge-critical">Critical</span></td>
                                        <td>System failure or complete breakdown</td>
                                        <td>Blocks all users</td>
                                        <td>Design system entirely broken</td>
                                    </tr>
                                    <tr>
                                        <td><span class="badge badge-major">Major</span></td>
                                        <td>Significant functionality loss or inconsistency</td>
                                        <td>Affects most users/pages</td>
                                        <td>Inconsistent spacing across pages</td>
                                    </tr>
                                    <tr>
                                        <td><span class="badge badge-minor">Minor</span></td>
                                        <td>Small inconsistency with limited impact</td>
                                        <td>Affects specific context only</td>
                                        <td>Single button styling inconsistency</td>
                                    </tr>
                                    <tr>
                                        <td><span class="badge badge-enhancement">Enhancement</span></td>
                                        <td>Improvement or new capability</td>
                                        <td>Positive addition</td>
                                        <td>Add new component type</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- FIX -->
                <div class="expandable" data-stage="fix">
                    <div class="expandable-header">
                        <div>
                            <h3 class="card-title" style="margin: 0; font-size: 1.1rem;">üîß FIX: Implement Solutions</h3>
                            <p style="font-size: 0.85rem; color: #999; margin-top: 0.25rem;">Apply fixes with standardized commit messages</p>
                        </div>
                        <span class="expandable-icon">‚ñº</span>
                    </div>
                    <div class="expandable-content">
                        <h4 style="margin-bottom: 1rem; color: var(--primary);">Commit Message Format</h4>
                        <div style="background-color: rgba(0, 0, 0, 0.05); padding: 1rem; border-radius: 8px; margin-bottom: 1rem; font-family: 'Courier New', monospace; font-size: 0.85rem; overflow-x: auto;">
                            <div>[DFRUVL-FIX] &lt;type&gt;: &lt;description&gt;</div>
                            <div style="margin-top: 0.5rem; opacity: 0.7;">Gap: &lt;gap-id&gt; | Root: &lt;root-cause&gt; | Files: &lt;count&gt;</div>
                        </div>

                        <h4 style="margin-bottom: 1rem; color: var(--primary);">Gap Categories</h4>
                        <div class="table-wrapper">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Category</th>
                                        <th>Description</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><strong>Missing Spec</strong></td>
                                        <td>Rule exists but without exact values</td>
                                    </tr>
                                    <tr>
                                        <td><strong>Inconsistent Application</strong></td>
                                        <td>Rule exists but not applied uniformly</td>
                                    </tr>
                                    <tr>
                                        <td><strong>Conflicting Rules</strong></td>
                                        <td>Two rules contradict each other</td>
                                    </tr>
                                    <tr>
                                        <td><strong>Missing Component</strong></td>
                                        <td>No specification exists for needed element</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- REFLECT -->
                <div class="expandable" data-stage="reflect">
                    <div class="expandable-header">
                        <div>
                            <h3 class="card-title" style="margin: 0; font-size: 1.1rem;">üí≠ REFLECT: Analyze Patterns</h3>
                            <p style="font-size: 0.85rem; color: #999; margin-top: 0.25rem;">Deep analysis of root causes and systemic issues</p>
                        </div>
                        <span class="expandable-icon">‚ñº</span>
                    </div>
                    <div class="expandable-content">
                        <h4 style="margin-bottom: 1rem; color: var(--primary);">Reflection Template (5 Questions)</h4>
                        <div style="background-color: rgba(197, 165, 90, 0.05); padding: 1.5rem; border-radius: 8px; margin-bottom: 1.5rem; border-left: 4px solid var(--secondary);">
                            <ol style="line-height: 1.8;">
                                <li><strong>What is the gap?</strong> Describe the specific inconsistency or missing element.</li>
                                <li><strong>Why did it happen?</strong> What process failure allowed this to occur?</li>
                                <li><strong>How many places?</strong> Estimate scope: single file, component, or system-wide?</li>
                                <li><strong>What's the pattern?</strong> Is this instance of a repeating issue?</li>
                                <li><strong>What rule would prevent it?</strong> What specification or process change is needed?</li>
                            </ol>
                        </div>

                        <h4 style="margin-bottom: 1rem; color: var(--primary);">Root Cause Taxonomy</h4>
                        <div class="table-wrapper">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Root Cause</th>
                                        <th>Definition</th>
                                        <th>Fix Strategy</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><strong>Missing Rule</strong></td>
                                        <td>No specification exists for this behavior</td>
                                        <td>Create new rule in spec</td>
                                    </tr>
                                    <tr>
                                        <td><strong>Unclear Rule</strong></td>
                                        <td>Rule exists but is ambiguous or incomplete</td>
                                        <td>Clarify and add exact values</td>
                                    </tr>
                                    <tr>
                                        <td><strong>Incomplete Rule</strong></td>
                                        <td>Rule exists but lacks all use cases</td>
                                        <td>Extend rule with missing cases</td>
                                    </tr>
                                    <tr>
                                        <td><strong>Buried Rule</strong></td>
                                        <td>Rule exists but is hard to find</td>
                                        <td>Reorganize or cross-reference</td>
                                    </tr>
                                    <tr>
                                        <td><strong>Contradictory Rules</strong></td>
                                        <td>Multiple conflicting specifications</td>
                                        <td>Resolve conflict with unified rule</td>
                                    </tr>
                                    <tr>
                                        <td><strong>Ignored Rule</strong></td>
                                        <td>Rule exists and is known but not followed</td>
                                        <td>Add process enforcement or tooling</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- UPDATE -->
                <div class="expandable" data-stage="update">
                    <div class="expandable-header">
                        <div>
                            <h3 class="card-title" style="margin: 0; font-size: 1.1rem;">üìù UPDATE: Codify Learning</h3>
                            <p style="font-size: 0.85rem; color: #999; margin-top: 0.25rem;">Convert insights into specifications and rules</p>
                        </div>
                        <span class="expandable-icon">‚ñº</span>
                    </div>
                    <div class="expandable-content">
                        <h4 style="margin-bottom: 1rem; color: var(--primary);">Update Taxonomy</h4>
                        <div class="table-wrapper">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Root Cause</th>
                                        <th>Action to Take</th>
                                        <th>Output File</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Missing Rule</td>
                                        <td>Write new specification section</td>
                                        <td>design-tokens.html or specs/</td>
                                    </tr>
                                    <tr>
                                        <td>Unclear Rule</td>
                                        <td>Add exact values and examples</td>
                                        <td>Revise existing spec</td>
                                    </tr>
                                    <tr>
                                        <td>Incomplete Rule</td>
                                        <td>Extend with missing use cases</td>
                                        <td>Revise existing spec</td>
                                    </tr>
                                    <tr>
                                        <td>Buried Rule</td>
                                        <td>Reorganize documentation structure</td>
                                        <td>documentation/</td>
                                    </tr>
                                    <tr>
                                        <td>Contradictory</td>
                                        <td>Merge into single unified rule</td>
                                        <td>Revise conflicting specs</td>
                                    </tr>
                                    <tr>
                                        <td>Ignored Rule</td>
                                        <td>Add linting, checklist, or automation</td>
                                        <td>tooling/ or processes/</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <h4 style="margin-top: 1.5rem; margin-bottom: 1rem; color: var(--primary);">Update Principles</h4>
                        <ul style="line-height: 1.8;">
                            <li><strong>Specificity:</strong> Every rule must have exact values, not "approximately" or "roughly"</li>
                            <li><strong>Discoverability:</strong> Rules must be easy to find; use cross-references and indices</li>
                            <li><strong>Completeness:</strong> Cover all use cases and edge cases in a single rule</li>
                            <li><strong>Consistency:</strong> Use the same terminology and structure across all rules</li>
                            <li><strong>Maintainability:</strong> Keep rules simple enough to be understood by future readers</li>
                        </ul>
                    </div>
                </div>

                <!-- VERIFY -->
                <div class="expandable" data-stage="verify">
                    <div class="expandable-header">
                        <div>
                            <h3 class="card-title" style="margin: 0; font-size: 1.1rem;">‚úì VERIFY: Constitutional Testing</h3>
                            <p style="font-size: 0.85rem; color: #999; margin-top: 0.25rem;">Validate compliance against design constitution</p>
                        </div>
                        <span class="expandable-icon">‚ñº</span>
                    </div>
                    <div class="expandable-content">
                        <p style="margin-bottom: 1rem;">Verification ensures that updated specifications are complete, consistent, and enforceable.</p>

                        <h4 style="margin-bottom: 1rem; color: var(--primary);">Constitutional Test Description</h4>
                        <div style="background-color: rgba(197, 165, 90, 0.05); padding: 1.5rem; border-radius: 8px; margin-bottom: 1.5rem; border-left: 4px solid var(--secondary);">
                            <p style="margin-bottom: 1rem;"><strong>Question:</strong> Does this specification satisfy the constitution?</p>
                            <ul style="line-height: 1.8;">
                                <li>‚úì Is the rule specific with exact values?</li>
                                <li>‚úì Is the rule discoverable and cross-referenced?</li>
                                <li>‚úì Does it cover all identified use cases?</li>
                                <li>‚úì Is it consistent with existing rules?</li>
                                <li>‚úì Can it be enforced (manually or automatically)?</li>
                            </ul>
                        </div>

                        <h4 style="margin-bottom: 1rem; color: var(--primary);">Process Reward Model Checks</h4>
                        <div class="table-wrapper">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Check</th>
                                        <th>Pass Criteria</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><strong>Specificity Score</strong></td>
                                        <td>All rules have exact numeric values, no ambiguity</td>
                                    </tr>
                                    <tr>
                                        <td><strong>Coverage Score</strong></td>
                                        <td>All identified gaps have corresponding rules</td>
                                    </tr>
                                    <tr>
                                        <td><strong>Consistency Score</strong></td>
                                        <td>No contradictions between rules</td>
                                    </tr>
                                    <tr>
                                        <td><strong>Discoverability Score</strong></td>
                                        <td>Rule can be found within 3 clicks</td>
                                    </tr>
                                    <tr>
                                        <td><strong>Enforceability Score</strong></td>
                                        <td>Rule can be checked automatically or via checklist</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- LOG -->
                <div class="expandable" data-stage="log">
                    <div class="expandable-header">
                        <div>
                            <h3 class="card-title" style="margin: 0; font-size: 1.1rem;">üìö LOG: Record Changes</h3>
                            <p style="font-size: 0.85rem; color: #999; margin-top: 0.25rem;">Document in CHANGELOG with version and traceability</p>
                        </div>
                        <span class="expandable-icon">‚ñº</span>
                    </div>
                    <div class="expandable-content">
                        <h4 style="margin-bottom: 1rem; color: var(--primary);">CHANGELOG Entry Format</h4>
                        <div style="background-color: rgba(0, 0, 0, 0.05); padding: 1rem; border-radius: 8px; margin-bottom: 1.5rem; font-family: 'Courier New', monospace; font-size: 0.85rem; overflow-x: auto; line-height: 1.6;">
                            <div>## [v1.2.0] - 2026-02-13</div>
                            <div style="margin-top: 0.5rem;">### Added</div>
                            <div>- Cross-page consistency checklist (Refs: REF-003, REF-004)</div>
                            <div style="margin-top: 0.5rem;">### Fixed</div>
                            <div>- Navbar inconsistencies across pages (REF-003)</div>
                            <div>- Footer styling drift (REF-004)</div>
                            <div style="margin-top: 0.5rem;">### Changed</div>
                            <div>- Updated component hierarchy documentation</div>
                            <div style="margin-top: 0.5rem;">### Lessons Learned</div>
                            <div>- P-001: Shared components require canonical specs</div>
                        </div>

                        <h4 style="margin-bottom: 1rem; color: var(--primary);">Version Numbering Rules</h4>
                        <ul style="line-height: 1.8;">
                            <li><strong>MAJOR.MINOR.PATCH</strong> (semantic versioning)</li>
                            <li><strong>MAJOR:</strong> Breaking changes to design system API</li>
                            <li><strong>MINOR:</strong> New features or significant specifications added</li>
                            <li><strong>PATCH:</strong> Bug fixes, clarifications, minor improvements</li>
                            <li><strong>Pre-release:</strong> Use -alpha, -beta, -rc suffixes for testing</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- REFLECTIONS LOG SECTION -->
            <section class="section" id="reflections">
                <h1 class="section-title">Reflections Log</h1>

                <div class="reflection-card">
                    <div class="reflection-header">
                        <div class="reflection-id">REF-001</div>
                        <div class="reflection-badges">
                            <span class="badge badge-major">Major</span>
                            <span class="badge badge-active">Active</span>
                        </div>
                    </div>
                    <div class="reflection-content">
                        <div class="reflection-row">
                            <span class="reflection-label">Date:</span>
                            <span class="reflection-value">2026-02-11</span>
                        </div>
                        <div class="reflection-row">
                            <span class="reflection-label">Gap:</span>
                            <span class="reflection-value">Design token 3-tier architecture missing</span>
                        </div>
                        <div class="reflection-row">
                            <span class="reflection-label">Root Cause:</span>
                            <span class="reflection-value">Missing Rule ‚Äî No specification for component token hierarchy</span>
                        </div>
                        <div class="reflection-row">
                            <span class="reflection-label">Pattern:</span>
                            <span class="reflection-value">P-002: Rules Without Exact Values Get Ignored</span>
                        </div>
                        <div class="reflection-row">
                            <span class="reflection-label">Impact:</span>
                            <span class="reflection-value">Token values inconsistent across 8 pages; no canonical source of truth</span>
                        </div>
                    </div>
                </div>

                <div class="reflection-card">
                    <div class="reflection-header">
                        <div class="reflection-id">REF-002</div>
                        <div class="reflection-badges">
                            <span class="badge badge-major">Major</span>
                            <span class="badge badge-resolved">Resolved</span>
                        </div>
                    </div>
                    <div class="reflection-content">
                        <div class="reflection-row">
                            <span class="reflection-label">Date:</span>
                            <span class="reflection-value">2026-02-12</span>
                        </div>
                        <div class="reflection-row">
                            <span class="reflection-label">Gap:</span>
                            <span class="reflection-value">Dark mode contrast issues on secondary text</span>
                        </div>
                        <div class="reflection-row">
                            <span class="reflection-label">Root Cause:</span>
                            <span class="reflection-value">Unclear Rule ‚Äî Contrast requirements not specified with exact ratios</span>
                        </div>
                        <div class="reflection-row">
                            <span class="reflection-label">Pattern:</span>
                            <span class="reflection-value">P-002: Rules Without Exact Values Get Ignored</span>
                        </div>
                        <div class="reflection-row">
                            <span class="reflection-label">Impact:</span>
                            <span class="reflection-value">WCAG 2.1 compliance risk; accessibility failures</span>
                        </div>
                    </div>
                </div>

                <div class="reflection-card">
                    <div class="reflection-header">
                        <div class="reflection-id">REF-003</div>
                        <div class="reflection-badges">
                            <span class="badge badge-major">Major</span>
                            <span class="badge badge-resolved">Resolved</span>
                        </div>
                    </div>
                    <div class="reflection-content">
                        <div class="reflection-row">
                            <span class="reflection-label">Date:</span>
                            <span class="reflection-value">2026-02-12</span>
                        </div>
                        <div class="reflection-row">
                            <span class="reflection-label">Gap:</span>
                            <span class="reflection-value">Navbar component implemented inconsistently across pages</span>
                        </div>
                        <div class="reflection-row">
                            <span class="reflection-label">Root Cause:</span>
                            <span class="reflection-value">Buried Rule ‚Äî Shared component spec not discoverable</span>
                        </div>
                        <div class="reflection-row">
                            <span class="reflection-label">Pattern:</span>
                            <span class="reflection-value">P-001: Shared Components Drift Without Canonical Specs</span>
                        </div>
                        <div class="reflection-row">
                            <span class="reflection-label">Impact:</span>
                            <span class="reflection-value">Navigation UX varies across site; user confusion</span>
                        </div>
                    </div>
                </div>

                <div class="reflection-card">
                    <div class="reflection-header">
                        <div class="reflection-id">REF-004</div>
                        <div class="reflection-badges">
                            <span class="badge badge-major">Major</span>
                            <span class="badge badge-resolved">Resolved</span>
                        </div>
                    </div>
                    <div class="reflection-content">
                        <div class="reflection-row">
                            <span class="reflection-label">Date:</span>
                            <span class="reflection-value">2026-02-12</span>
                        </div>
                        <div class="reflection-row">
                            <span class="reflection-label">Gap:</span>
                            <span class="reflection-value">Footer styling differs across 8 pages</span>
                        </div>
                        <div class="reflection-row">
                            <span class="reflection-label">Root Cause:</span>
                            <span class="reflection-value">Incomplete Rule ‚Äî Shared component spec lacks edge cases</span>
                        </div>
                        <div class="reflection-row">
                            <span class="reflection-label">Pattern:</span>
                            <span class="reflection-value">P-001: Shared Components Drift Without Canonical Specs</span>
                        </div>
                        <div class="reflection-row">
                            <span class="reflection-label">Impact:</span>
                            <span class="reflection-value">Brand inconsistency; maintenance burden on each page</span>
                        </div>
                    </div>
                </div>

                <div class="reflection-card">
                    <div class="reflection-header">
                        <div class="reflection-id">REF-005</div>
                        <div class="reflection-badges">
                            <span class="badge badge-enhancement">Enhancement</span>
                            <span class="badge badge-active">Active</span>
                        </div>
                    </div>
                    <div class="reflection-content">
                        <div class="reflection-row">
                            <span class="reflection-label">Date:</span>
                            <span class="reflection-value">2026-02-13</span>
                        </div>
                        <div class="reflection-row">
                            <span class="reflection-label">Gap:</span>
                            <span class="reflection-value">No systematic self-adjustment mechanism in place</span>
                        </div>
                        <div class="reflection-row">
                            <span class="reflection-label">Root Cause:</span>
                            <span class="reflection-value">Missing Rule ‚Äî No process for continuous improvement</span>
                        </div>
                        <div class="reflection-row">
                            <span class="reflection-label">Pattern:</span>
                            <span class="reflection-value">P-003: Missing Rules Are More Common Than Ignored Rules</span>
                        </div>
                        <div class="reflection-row">
                            <span class="reflection-label">Impact:</span>
                            <span class="reflection-value">Issues accumulate; learning not captured; same mistakes repeat</span>
                        </div>
                    </div>
                </div>
            </section>

            <!-- PATTERNS SECTION -->
            <section class="section" id="patterns">
                <h1 class="section-title">Patterns</h1>

                <div class="pattern-card">
                    <div class="pattern-id">P-001</div>
                    <h3 class="pattern-title">Shared Components Drift Without Canonical Specs</h3>
                    <p style="margin-bottom: 1rem; font-size: 0.95rem;">
                        When a component (navbar, footer, card) is used across multiple pages but has no single, authoritative specification, implementations gradually diverge. Each implementer makes independent decisions about styling, spacing, and behavior, creating a "mutation drift" effect.
                    </p>
                    <p style="margin-bottom: 1rem; font-size: 0.9rem; color: #666;">
                        <strong>Affected Reflections:</strong>
                    </p>
                    <div class="pattern-links">
                        <span class="pattern-link">REF-003</span>
                        <span class="pattern-link">REF-004</span>
                    </div>
                </div>

                <div class="pattern-card">
                    <div class="pattern-id">P-002</div>
                    <h3 class="pattern-title">Rules Without Exact Values Get Ignored</h3>
                    <p style="margin-bottom: 1rem; font-size: 0.95rem;">
                        When design rules are specified without exact numeric values ("use light gray" instead of "#E8E0D0"), they are interpreted differently by each implementer. Ambiguity leads to variation, which causes inconsistency and ultimately the rule is abandoned.
                    </p>
                    <p style="margin-bottom: 1rem; font-size: 0.9rem; color: #666;">
                        <strong>Affected Reflections:</strong>
                    </p>
                    <div class="pattern-links">
                        <span class="pattern-link">REF-001</span>
                        <span class="pattern-link">REF-002</span>
                    </div>
                </div>

                <div class="pattern-card">
                    <div class="pattern-id">P-003</div>
                    <h3 class="pattern-title">Missing Rules Are More Common Than Ignored Rules</h3>
                    <p style="margin-bottom: 1rem; font-size: 0.95rem;">
                        Most design failures are not because a rule existed and was ignored, but because no rule existed at all. Ignoring a known rule is rare; creating gaps by not anticipating rules is common. This suggests that the primary improvement opportunity is specification completeness, not enforcement.
                    </p>
                    <p style="margin-bottom: 1rem; font-size: 0.9rem; color: #666;">
                        <strong>Affected Reflections:</strong>
                    </p>
                    <div class="pattern-links">
                        <span class="pattern-link">REF-001</span>
                        <span class="pattern-link">REF-002</span>
                        <span class="pattern-link">REF-003</span>
                        <span class="pattern-link">REF-004</span>
                        <span class="pattern-link">REF-005</span>
                    </div>
                </div>
            </section>

            <!-- SKILL VERSIONS SECTION -->
            <section class="section" id="skill-versions">
                <h1 class="section-title">Skill Versions</h1>

                <div class="timeline">
                    <div class="timeline-item">
                        <div class="timeline-date">v1.0.0</div>
                        <div class="timeline-title">Initial Skill Creation</div>
                        <div class="timeline-desc">2026-02-11 ‚Ä¢ 9 files ‚Ä¢ 3,793 lines</div>
                        <p style="margin-top: 0.75rem; font-size: 0.9rem;">
                            Foundation of Newport Pembury & Co design system. Includes brand guidelines, component specifications, typography system, and initial design tokens. Created as response to scattered design decisions across multiple projects.
                        </p>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-date">v1.1.0</div>
                        <div class="timeline-title">Design Token 3-Tier Architecture</div>
                        <div class="timeline-desc">2026-02-12 ‚Ä¢ +2 files ‚Ä¢ +284 lines</div>
                        <p style="margin-top: 0.75rem; font-size: 0.9rem;">
                            Introduced three-tier token system (System ‚Üí Component ‚Üí Utility) with exact values replacing vague rules. Added design-tokens.html dashboard. Resolves REF-001 and begins addressing P-002.
                        </p>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-date">v1.2.0</div>
                        <div class="timeline-title">Cross-Page Consistency Checklist</div>
                        <div class="timeline-desc">2026-02-13 ‚Ä¢ +3 files ‚Ä¢ +412 lines</div>
                        <p style="margin-top: 0.75rem; font-size: 0.9rem;">
                            Added shared component specifications with detailed guides for navbar, footer, and card components. Included cross-page consistency checklist. Resolves REF-003 and REF-004, addresses P-001.
                        </p>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-date">v1.3.0</div>
                        <div class="timeline-title">Self-Adjustment System (DFRUVL)</div>
                        <div class="timeline-desc">2026-02-13 ‚Ä¢ +4 files ‚Ä¢ +411 lines</div>
                        <p style="margin-top: 0.75rem; font-size: 0.9rem;">
                            Implemented DFRUVL protocol for systematic self-correction and continuous improvement. Added reflections logging, pattern detection, and academic foundations documentation. This dashboard enables ongoing governance and prevents regression.
                        </p>
                    </div>
                </div>
            </section>

            <!-- METRICS SECTION -->
            <section class="section" id="metrics">
                <h1 class="section-title">Metrics</h1>

                <div class="card">
                    <h3 class="card-title">Repeat Defect Rate</h3>
                    <div class="progress-wrapper">
                        <div class="progress-label">
                            <span>Current: 0% ‚Ä¢ Target: <5%</span>
                            <span style="color: var(--status-resolved);">‚úì Exceeds Target</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 0%;"></div>
                        </div>
                    </div>
                    <p style="font-size: 0.85rem; color: #666; margin-top: 0.75rem;">
                        No defect has required fixing more than once. Zero repeat issues indicates that DFRUVL updates are being incorporated into specifications.
                    </p>
                </div>

                <div class="card">
                    <h3 class="card-title">Governance Score</h3>
                    <div class="progress-wrapper">
                        <div class="progress-label">
                            <span>Current: 8.1/10 ‚Ä¢ Target: 9.0+</span>
                            <span>‚Üí 0.9 points to target</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 81%;"></div>
                        </div>
                    </div>
                    <p style="font-size: 0.85rem; color: #666; margin-top: 0.75rem;">
                        Composite metric: (Specificity 90% + Coverage 80% + Consistency 85% + Discoverability 75% + Enforceability 72%) √∑ 5 = 8.1. Improving through P-001 and P-002 resolutions.
                    </p>
                </div>

                <div class="card">
                    <h3 class="card-title">Root Cause Distribution</h3>
                    <div class="donut-wrapper">
                        <svg class="donut-svg" viewBox="0 0 100 100">
                            <!-- Missing (57%): #1B2838 -->
                            <circle cx="50" cy="50" r="40" fill="none" stroke="#1B2838" stroke-width="20" stroke-dasharray="57 100" stroke-dashoffset="0" />
                            <!-- Unclear (0%): #457B9D -->
                            <circle cx="50" cy="50" r="40" fill="none" stroke="#457B9D" stroke-width="20" stroke-dasharray="0 100" stroke-dashoffset="-57" />
                            <!-- Incomplete (14%): #F77F00 -->
                            <circle cx="50" cy="50" r="40" fill="none" stroke="#F77F00" stroke-width="20" stroke-dasharray="14 100" stroke-dashoffset="-57" />
                            <!-- Buried (0%): #E63946 -->
                            <circle cx="50" cy="50" r="40" fill="none" stroke="#E63946" stroke-width="20" stroke-dasharray="0 100" stroke-dashoffset="-71" />
                            <!-- Contradictory (0%): #6C757D -->
                            <circle cx="50" cy="50" r="40" fill="none" stroke="#6C757D" stroke-width="20" stroke-dasharray="0 100" stroke-dashoffset="-71" />
                            <!-- Ignored (29%): #2D6A4F -->
                            <circle cx="50" cy="50" r="40" fill="none" stroke="#2D6A4F" stroke-width="20" stroke-dasharray="29 100" stroke-dashoffset="-71" />
                            <circle cx="50" cy="50" r="20" fill="var(--bg-light)" />
                            <text x="50" y="55" text-anchor="middle" font-size="14" font-weight="bold" fill="var(--text-light)">7</text>
                        </svg>
                        <div class="donut-legend">
                            <div class="donut-item">
                                <div class="donut-color" style="background-color: #1B2838;"></div>
                                <span><strong>Missing:</strong> 4 (57%)</span>
                            </div>
                            <div class="donut-item">
                                <div class="donut-color" style="background-color: #457B9D;"></div>
                                <span><strong>Unclear:</strong> 0 (0%)</span>
                            </div>
                            <div class="donut-item">
                                <div class="donut-color" style="background-color: #F77F00;"></div>
                                <span><strong>Incomplete:</strong> 1 (14%)</span>
                            </div>
                            <div class="donut-item">
                                <div class="donut-color" style="background-color: #E63946;"></div>
                                <span><strong>Buried:</strong> 0 (0%)</span>
                            </div>
                            <div class="donut-item">
                                <div class="donut-color" style="background-color: #6C757D;"></div>
                                <span><strong>Contradictory:</strong> 0 (0%)</span>
                            </div>
                            <div class="donut-item">
                                <div class="donut-color" style="background-color: #2D6A4F;"></div>
                                <span><strong>Ignored:</strong> 2 (29%)</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">Mean Time to Codify</h3>
                    <p style="margin: 1rem 0; font-size: 1.1rem;">
                        <span style="display: inline-block; background-color: var(--status-resolved); color: white; padding: 0.5rem 1rem; border-radius: 6px; font-weight: 600;">
                            0 sessions
                        </span>
                    </p>
                    <p style="font-size: 0.85rem; color: #666;">
                        All identified gaps have been codified into specifications within the same session. Target is same-session codification to prevent knowledge loss.
                    </p>
                </div>
            </section>

            <!-- ACADEMIC FOUNDATIONS SECTION -->
            <section class="section" id="academic">
                <h1 class="section-title">Academic Foundations</h1>

                <p style="margin-bottom: 2rem; font-size: 0.95rem; line-height: 1.6;">
                    The DFRUVL protocol is grounded in cutting-edge research in AI alignment, learning systems, and constitutional AI. Below are the key papers and how they inform our implementation.
                </p>

                <div class="table-wrapper">
                    <table class="academic-table">
                        <thead>
                            <tr>
                                <th>Paper / Concept</th>
                                <th>Authors / Source</th>
                                <th>Key Insight</th>
                                <th>Our Implementation</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Reflexion</strong></td>
                                <td>Shinn et al., 2023</td>
                                <td>Agents improve by reflecting on past actions and trajectories</td>
                                <td><a href="#" class="paper-link">reflections.md</a> ‚Äî REFLECT stage captures root cause analysis and learning</td>
                            </tr>
                            <tr>
                                <td><strong>Constitutional AI</strong></td>
                                <td>Bai et al., 2022</td>
                                <td>Systems guided by explicit principles (constitution) outperform those without</td>
                                <td>design-tokens.html + specifications define constitution; VERIFY stage tests compliance</td>
                            </tr>
                            <tr>
                                <td><strong>Self-Critique & Reward</strong></td>
                                <td>Ye et al., SCoRe 2024</td>
                                <td>Self-correction cycles improve output quality through critique loops</td>
                                <td>DFRUVL cycle itself is a self-critique loop: Detect ‚Üí Fix ‚Üí Reflect ‚Üí Update ‚Üí Verify</td>
                            </tr>
                            <tr>
                                <td><strong>Process Reward Models</strong></td>
                                <td>Lightman et al., 2023</td>
                                <td>Evaluating process (not just outcome) catches errors earlier</td>
                                <td>VERIFY stage includes process reward checks: specificity, coverage, consistency, discoverability, enforceability</td>
                            </tr>
                            <tr>
                                <td><strong>Curriculum Learning</strong></td>
                                <td>Bengio et al., 2009</td>
                                <td>Learning progresses from simple to complex in structured order</td>
                                <td>Skill Versions (v1.0 ‚Üí v1.3) follow curriculum: foundations ‚Üí tokens ‚Üí components ‚Üí protocol</td>
                            </tr>
                            <tr>
                                <td><strong>Catastrophic Forgetting</strong></td>
                                <td>McCloskey & Cohen, 1989</td>
                                <td>Systems can lose previous knowledge when learning new tasks</td>
                                <td>CHANGELOG & version history prevent regression; specifications are immutable baselines</td>
                            </tr>
                            <tr>
                                <td><strong>Model-Agnostic Meta-Learning</strong></td>
                                <td>Finn et al., 2017</td>
                                <td>Systems can learn to learn; adaptation improves with meta-level improvements</td>
                                <td>DFRUVL protocol itself improves as we learn patterns; meta-protocol evolution captured in P-001, P-002, P-003</td>
                            </tr>
                            <tr>
                                <td><strong>Self-Taught Reasoner (STaR)</strong></td>
                                <td>Zelikman et al., 2022</td>
                                <td>Systems improve by bootstrapping from simple solutions to complex ones</td>
                                <td>Design system starts simple (v1.0), self-improves by addressing discovered gaps, builds on successes</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="card" style="margin-top: 2rem;">
                    <h3 class="card-title">Philosophical Alignment</h3>
                    <p style="margin-bottom: 1rem; line-height: 1.6;">
                        DFRUVL embodies several key principles from AI safety and learning research:
                    </p>
                    <ul style="line-height: 1.8;">
                        <li><strong>Transparency:</strong> Every decision is traceable (REF-ID ‚Üí Pattern ‚Üí Root Cause ‚Üí Rule Update ‚Üí Version)</li>
                        <li><strong>Constitutional Governance:</strong> Behavior is guided by explicit specifications, not implicit rules</li>
                        <li><strong>Continuous Verification:</strong> We don't assume rules are followed; we verify them</li>
                        <li><strong>Knowledge Preservation:</strong> Learning is captured in specifications so it persists across contexts</li>
                        <li><strong>Recursive Improvement:</strong> The protocol itself improves by applying DFRUVL to gaps in DFRUVL</li>
                    </ul>
                </div>
            </section>
        </main>
    </div>

    <script>
        // State Management
        const state = {
            currentSection: 'overview',
            darkMode: localStorage.getItem('darkMode') === 'true',
            searchTerm: ''
        };

        // Initialize Dark Mode
        function initDarkMode() {
            if (state.darkMode) {
                document.body.classList.add('dark-mode');
                document.getElementById('themeToggle').textContent = '‚òÄÔ∏è';
            }
        }

        // Theme Toggle
        document.getElementById('themeToggle').addEventListener('click', () => {
            state.darkMode = !state.darkMode;
            document.body.classList.toggle('dark-mode');
            localStorage.setItem('darkMode', state.darkMode);
            document.getElementById('themeToggle').textContent = state.darkMode ? '‚òÄÔ∏è' : 'üåô';
        });

        // Navigation
        document.querySelectorAll('.nav-item').forEach(item => {
            item.addEventListener('click', () => {
                const section = item.dataset.section;
                if (!section) return;

                // Update active nav item
                document.querySelectorAll('.nav-item').forEach(nav => nav.classList.remove('active'));
                item.classList.add('active');

                // Show section
                document.querySelectorAll('.section').forEach(sec => sec.classList.remove('active'));
                document.getElementById(section).classList.add('active');

                state.currentSection = section;

                // Close sidebar on mobile
                if (window.innerWidth <= 768) {
                    document.getElementById('sidebar').classList.remove('open');
                }
            });
        });

        // Menu Toggle (Mobile)
        document.getElementById('menuToggle').addEventListener('click', () => {
            document.getElementById('sidebar').classList.toggle('open');
        });

        // Expandable Sections
        document.querySelectorAll('.expandable-header').forEach(header => {
            header.addEventListener('click', () => {
                const expandable = header.parentElement;
                expandable.classList.toggle('open');
            });
        });

        // Search Functionality
        document.getElementById('searchBox').addEventListener('input', (e) => {
            const term = e.target.value.toLowerCase();
            state.searchTerm = term;

            if (!term) {
                // Reset visibility
                document.querySelectorAll('[data-searchable]').forEach(el => el.classList.remove('hidden'));
                return;
            }

            // Search in reflections
            document.querySelectorAll('.reflection-card').forEach(card => {
                const text = card.textContent.toLowerCase();
                card.classList.toggle('hidden', !text.includes(term));
            });

            // Search in patterns
            document.querySelectorAll('.pattern-card').forEach(card => {
                const text = card.textContent.toLowerCase();
                card.classList.toggle('hidden', !text.includes(term));
            });

            // Search in timeline
            document.querySelectorAll('.timeline-item').forEach(item => {
                const text = item.textContent.toLowerCase();
                item.classList.toggle('hidden', !text.includes(term));
            });

            // Search in cards
            document.querySelectorAll('.card').forEach(card => {
                const text = card.textContent.toLowerCase();
                card.classList.toggle('hidden', !text.includes(term));
            });
        });

        // Initialize
        initDarkMode();

        // Smooth scroll on page load
        window.addEventListener('load', () => {
            document.querySelectorAll('a[href^="#"]').forEach(link => {
                link.addEventListener('click', (e) => {
                    const href = e.currentTarget.getAttribute('href');
                    if (href === '#') return;
                    const element = document.querySelector(href);
                    if (element) {
                        element.scrollIntoView({ behavior: 'smooth' });
                    }
                });
            });
        });

        // Close sidebar when clicking outside on mobile
        document.addEventListener('click', (e) => {
            if (window.innerWidth <= 768) {
                const sidebar = document.getElementById('sidebar');
                const menuToggle = document.getElementById('menuToggle');
                if (!sidebar.contains(e.target) && !menuToggle.contains(e.target)) {
                    sidebar.classList.remove('open');
                }
            }
        });
    </script>
</body>
</html>
